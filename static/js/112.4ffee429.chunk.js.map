{"version":3,"file":"static/js/112.4ffee429.chunk.js","mappings":"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","sources":["../node_modules/@apollo/src/react/hooks/useReactiveVar.ts","webpack://simple-draw-app/./src/Components/MainPage/MainPage.module.css?441a","webpack://simple-draw-app/./src/Components/MainPage/Canvas/Canvas.module.css?1899","CanvasUtils/DrawingShapes/DrawPolygon.ts","CanvasUtils/CoordinatesUtils.ts","CanvasUtils/DrawingShapes/DrawRegularPolygon.ts","CanvasUtils/DrawingShapes/DrawSquare.ts","CanvasUtils/DrawingShapes/DrawCircle.ts","Constants/Tools.ts","Apollo/Storage.ts","CanvasUtils/DrawingShapes/DrawTriangle.ts","CanvasUtils/DrawingShapes/DrawStar.ts","CanvasUtils/CommentariesUtils.ts","Constants/Canvas.ts","Components/MainPage/Canvas/Canvas.tsx","Components/MainPage/Tools/Tools.tsx","Components/MainPage/Tools/CircleSettings.tsx","Components/MainPage/Tools/SquareSettings.tsx","Components/MainPage/Tools/TriangleSettings.tsx","Components/MainPage/Tools/StarSettings.tsx","Components/MainPage/Tools/RegularPolygonSettings.tsx","Components/MainPage/Tools/ToolSettings.tsx","webpack://simple-draw-app/./src/Components/MainPage/Commentaries/Commentaries.module.css?d027","../node_modules/@ant-design/icons-svg/es/asn/CommentOutlined.js","../node_modules/@ant-design/icons/es/icons/CommentOutlined.js","../node_modules/antd/es/grid/hooks/useBreakpoint.js","../node_modules/antd/es/_util/hooks/useForceUpdate.js","../node_modules/antd/es/avatar/SizeContext.js","../node_modules/antd/es/avatar/style/index.js","../node_modules/antd/es/avatar/avatar.js","../node_modules/antd/es/_util/getRenderPropValue.js","../node_modules/antd/es/popover/style/index.js","../node_modules/antd/es/popover/PurePanel.js","../node_modules/antd/es/popover/index.js","../node_modules/antd/es/avatar/group.js","../node_modules/antd/es/avatar/index.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","../node_modules/@ant-design/icons/es/icons/UserOutlined.js","Hooks/useOnClickOutside.ts","Components/MainPage/Commentaries/ModalDeleteCommentary.tsx","Components/MainPage/Commentaries/OpenedCommentary.tsx","Components/MainPage/Commentaries/Commentaries.tsx","Components/MainPage/Commentaries/NewCommentary.tsx","../node_modules/@ant-design/icons-svg/es/asn/DownloadOutlined.js","../node_modules/@ant-design/icons/es/icons/DownloadOutlined.js","Components/MainPage/DownloadButton/DownloadBtn.tsx","Components/MainPage/MainPage.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { ReactiveVar } from '../../core';\n\nexport function useReactiveVar<T>(rv: ReactiveVar<T>): T {\n  const value = rv();\n\n  // We don't actually care what useState thinks the value of the variable\n  // is, so we take only the update function from the returned array.\n  const setValue = useState(value)[1];\n\n  // We subscribe to variable updates on initial mount and when the value has\n  // changed. This avoids a subtle bug in React.StrictMode where multiple\n  // listeners are added, leading to inconsistent updates.\n  useEffect(() => {\n    const probablySameValue = rv();\n    if (value !== probablySameValue) {\n      // If the value of rv has already changed, we don't need to listen for the\n      // next change, because we can report this change immediately.\n      setValue(probablySameValue);\n    } else {\n      return rv.onNextChange(setValue);\n    }\n  }, [value]);\n\n  return value;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"canvasWrapper\":\"MainPage_canvasWrapper__F2OSV\",\"toolsWrapper\":\"MainPage_toolsWrapper__+DR-6\",\"tool\":\"MainPage_tool__Xr-HD\",\"selected\":\"MainPage_selected__IXmX+\",\"toolSettingsWrapper\":\"MainPage_toolSettingsWrapper__jMDf1\",\"toolSettingsGroup\":\"MainPage_toolSettingsGroup__+gBnY\",\"oneParamGroup\":\"MainPage_oneParamGroup__pSEF-\",\"downloadBtnContainer\":\"MainPage_downloadBtnContainer__OkGia\"};","// extracted by mini-css-extract-plugin\nexport default {\"canvas\":\"Canvas_canvas__sqZ7X\"};","/**\r\n * Function for drawing polygon on canvas\r\n * @param {CanvasRenderingContext2D} cvsContext Canvas context\r\n * @param {Array<[number, number]>} polygon Array of points [x, y]\r\n * @param {string} color=\"#000\" color\r\n * @param {boolean} fill=false need to fill or only border\r\n */\r\nconst drawPolygon = (\r\n\tcvsContext: CanvasRenderingContext2D,\r\n\tpolygon: Array<[number, number]>,\r\n\tcolor = \"#000000\",\r\n\tfill = false\r\n) => {\r\n\tcvsContext.fillStyle = color;\r\n\tcvsContext.strokeStyle = color;\r\n\r\n\tcvsContext.beginPath();\r\n\tcvsContext.moveTo(...polygon[polygon.length - 1] as [number, number]);\r\n\tpolygon.forEach(([x, y]) => {\r\n\t\tcvsContext.lineTo(x, y);\r\n\t});\r\n\r\n\tif (fill)\r\n\t\tcvsContext.fill();\r\n\telse\r\n\t\tcvsContext.stroke();\r\n\r\n\tcvsContext.closePath();\r\n};\r\n\r\nexport default drawPolygon;\r\n","/**\r\n * Convert degrees to radians\r\n * @param {number} degrees\r\n */\r\nexport const degreesToRadians = (degrees: number): number => {\r\n\treturn (degrees % 360) * Math.PI / 180;\r\n};\r\n\r\n/**\r\n * Function for rotating point around (0,0)\r\n * @param {number} x Point coordinate X\r\n * @param {number} y Point coordinate Y\r\n * @param {number} sinAngle Sine of rotation angle\r\n * @param {number} cosAngle Cosine of rotation angle\r\n * @return Array of new point coordinates [x, y]\r\n */\r\nexport const rotatePoint = (\r\n\tx: number,\r\n\ty: number,\r\n\tsinAngle: number,\r\n\tcosAngle: number\r\n): [number, number] => {\r\n\treturn [\r\n\t\tx * cosAngle - y * sinAngle,\r\n\t\tx * sinAngle + y * cosAngle\r\n\t];\r\n};\r\n\r\n/**\r\n * Function for rotating polygon around (0,0)\r\n * @param {Array<[number, number]>} polygon Array of points [x, y]\r\n * @param {number} angle Rotation angle\r\n * @return Coordinates of rotated polygon\r\n * @example rotatePolygon([[x1, y1], [x2, y2]], 60)\r\n */\r\nexport const rotatePolygon = (\r\n\tpolygon: Array<[number, number]>,\r\n\tangle: number\r\n): Array<[number, number]> => {\r\n\t// need to subtract angle from 360, because Y axis is reversed\r\n\tconst angleInRadians = degreesToRadians(angle);\r\n\tconst sinAngle = Math.sin(angleInRadians);\r\n\tconst cosAngle = Math.cos(angleInRadians);\r\n\r\n\treturn polygon.map(([x, y]) => {\r\n\t\treturn rotatePoint(x, y, sinAngle, cosAngle);\r\n\t});\r\n};\r\n\r\n/**\r\n * Function for linear shift all polygon points.\r\n * Note, that Y-axis is reversed on canvas.\r\n * @param {Array<[number, number]>} polygon Array of points [x, y]\r\n * @param {number} x0 X-axis value shift\r\n * @param {number} y0 Y-axis value shift\r\n * @return Coordinates of rotated polygon\r\n * @example rotatePolygon([[x1, y1], [x2, y2]], 10, 10)\r\n */\r\nexport const linearShiftPolygon = (\r\n\tpolygon: Array<[number, number]>,\r\n\tx0 = 0,\r\n\ty0 = 0\r\n): Array<[number, number]> => {\r\n\treturn polygon.map(([x, y]) => {\r\n\t\treturn [x0 + x, y0 + y];\r\n\t});\r\n};\r\n","import drawPolygon from \"./DrawPolygon\";\r\nimport {degreesToRadians, linearShiftPolygon, rotatePoint} from \"../CoordinatesUtils\";\r\n\r\n/**\r\n * Function for drawing regular polygon on canvas\r\n * @param {CanvasRenderingContext2D} cvsContext Canvas context\r\n * @param {number} x X position of shape center\r\n * @param {number} y Y position of shape center\r\n * @param {number} [size=10] Regular polygon circumscribed circle radius\r\n * @param {number} [verticesNumber=5] Number of polygon vertices\r\n * @param {number} [rotationAngle=0] Rotation angle in degrees\r\n * @param {string} [color=\"#000000\"] Color\r\n * @param {boolean} [fill=false] need to fill or only border\r\n */\r\nconst drawRegularPolygon = (\r\n\tcvsContext: CanvasRenderingContext2D,\r\n\tx: number,\r\n\ty: number,\r\n\tsize = 10,\r\n\tverticesNumber = 5,\r\n\trotationAngle = 0,\r\n\tcolor = \"#000000\",\r\n\tfill = false\r\n) => {\r\n\tcvsContext.fillStyle = color;\r\n\tcvsContext.strokeStyle = color;\r\n\r\n\tlet vertexAngle = degreesToRadians(rotationAngle);\r\n\tlet deltaVertexAngle = degreesToRadians(360 / verticesNumber);\r\n\r\n\t// start coordinates calculated as if shape center at (0, 0)\r\n\tlet coordinates: Array<[number, number]> = [];\r\n\r\n\tfor (let i = 0; i < verticesNumber; i++) {\r\n\t\tcoordinates.push(\r\n\t\t\trotatePoint(0, size, Math.sin(vertexAngle), Math.cos(vertexAngle))\r\n\t\t);\r\n\t\tvertexAngle += deltaVertexAngle;\r\n\t}\r\n\r\n\t// linear shift to coordinates\r\n\tcoordinates = linearShiftPolygon(coordinates, x, y);\r\n\r\n\tdrawPolygon(cvsContext, coordinates, color, fill);\r\n};\r\n\r\nexport default drawRegularPolygon;\r\n","import drawRegularPolygon from \"./DrawRegularPolygon\";\r\n\r\n/**\r\n * Function for drawing square on canvas\r\n * @param {CanvasRenderingContext2D} cvsContext Canvas context\r\n * @param {number} x X position of square center\r\n * @param {number} y Y position of square center\r\n * @param {number} [size=10] Square size\r\n * @param {number} [rotationAngle=45] Rotation angle in degrees\r\n * @param {string} [color=\"#000000\"] color\r\n * @param {boolean} [fill=false] need to fill or only border\r\n */\r\nconst drawSquare = (\r\n\tcvsContext: CanvasRenderingContext2D,\r\n\tx: number,\r\n\ty: number,\r\n\tsize = 10,\r\n\trotationAngle = 0,\r\n\tcolor = \"#000000\",\r\n\tfill = false\r\n) => {\r\n\tdrawRegularPolygon(cvsContext, x, y, size, 4, rotationAngle + 45, color, fill);\r\n};\r\n\r\nexport default drawSquare;\r\n","/**\r\n * Function for drawing circle on canvas\r\n * @param {CanvasRenderingContext2D} cvsContext Canvas context\r\n * @param {number} x X position of circle center\r\n * @param {number} y Y position of circle center\r\n * @param {number} radius=10 circle radius\r\n * @param {string} color=\"#000\" color\r\n * @param {boolean} fill=false need to fill or only border\r\n */\r\nconst drawCircle = (\r\n\tcvsContext: CanvasRenderingContext2D,\r\n\tx: number,\r\n\ty: number,\r\n\tradius = 10,\r\n\tcolor = \"#000\",\r\n\tfill = false\r\n) => {\r\n\tcvsContext.fillStyle = color;\r\n\tcvsContext.strokeStyle = color;\r\n\tcvsContext.beginPath();\r\n\tcvsContext.arc(x, y, radius, 0, 2 * Math.PI);\r\n\tif (fill)\r\n\t\tcvsContext.fill();\r\n\telse\r\n\t\tcvsContext.stroke();\r\n};\r\n\r\nexport default drawCircle;\r\n","/** Tool names */\r\nexport enum TOOLS {\r\n\tsquare = \"square\",\r\n\tcircle = \"circle\",\r\n\ttriangle = \"triangle\",\r\n\tstar = \"star\",\r\n\tregularPolygon = \"regularPolygon\"\r\n}","import {makeVar, ReactiveVar} from \"@apollo/client\";\r\nimport {TOOLS} from \"../Constants/Tools\";\r\nimport {ICommentary, IDrawSettingsVar, INewCommentary, IRegularPolygonSettingsTool, IShapeStoreData, IToolSettingsVar} from \"./Interfaces\";\r\n\r\n// Storage for apollo client\r\n\r\n/** Var for storing current tool */\r\nexport const toolsVar = makeVar(TOOLS.square);\r\n\r\n/** Storage for all shapes on canvas */\r\nexport const shapesStorageVar: ReactiveVar<IShapeStoreData[]> = makeVar([] as IShapeStoreData[]);\r\n\r\n/** Settings for all tools */\r\nexport const drawSettingsVar: ReactiveVar<IDrawSettingsVar> = makeVar({\r\n\tcolor: \"#000000\",\r\n\tfilled: false\r\n} as IDrawSettingsVar);\r\n\r\n/** Parameters for circle tool */\r\nexport const circleSettingsVar: ReactiveVar<IToolSettingsVar> = makeVar({\r\n\tsize: 10\r\n} as IToolSettingsVar);\r\n\r\n/** Parameters for square tool */\r\nexport const squareSettingsVar: ReactiveVar<IToolSettingsVar> = makeVar({\r\n\tsize: 10,\r\n\trotation: 0\r\n} as IToolSettingsVar);\r\n\r\n/** Parameters for triangle tool */\r\nexport const triangleSettingsVar: ReactiveVar<IToolSettingsVar> = makeVar({\r\n\tsize: 10,\r\n\trotation: 0\r\n} as IToolSettingsVar);\r\n\r\n/** Parameters for star tool */\r\nexport const starSettingsVar: ReactiveVar<IRegularPolygonSettingsTool> = makeVar({\r\n\tsize: 10,\r\n\trotation: 0,\r\n\tverticesNumber: 5\r\n} as IRegularPolygonSettingsTool);\r\n\r\n/** Parameters for regular polygon tool */\r\nexport const regularPolygonSettingsVar: ReactiveVar<IRegularPolygonSettingsTool> = makeVar({\r\n\tsize: 10,\r\n\trotation: 0,\r\n\tverticesNumber: 5\r\n} as IRegularPolygonSettingsTool);\r\n\r\n/** Commentaries only for test */\r\nconst testComments: ICommentary[] = [{\r\n\tprojectId: 1,\r\n\tauthorId: 1,\r\n\tauthorName: \"Greeting\",\r\n\tcommentId: 1,\r\n\ttext: \"Hello! You could leave comments by right mouse click on canvas\",\r\n\tdate: \"22.10.2023\",\r\n\ttime: \"13:00\",\r\n\tx: 10,\r\n\ty: 10,\r\n\tisOpened: true\r\n}];\r\n\r\n/** Storage for commentaries */\r\nexport const commentariesStorageVar: ReactiveVar<ICommentary[]> = makeVar(testComments as ICommentary[]);\r\n\r\n/** Var for storing temp data while creating new commentary */\r\nexport const newCommentaryVar: ReactiveVar<INewCommentary> = makeVar({\r\n\tisCreating: false,\r\n\ttext: \"\",\r\n\tx: 0,\r\n\ty: 0\r\n} as INewCommentary);\r\n","import drawPolygon from \"./DrawPolygon\";\r\nimport {linearShiftPolygon, rotatePolygon} from \"../CoordinatesUtils\";\r\n\r\n/**\r\n * Function for drawing triangle on canvas\r\n * @param {CanvasRenderingContext2D} cvsContext Canvas context\r\n * @param {number} x X position of shape center\r\n * @param {number} y Y position of shape center\r\n * @param {number} side=10 Triangle side size\r\n * @param {number} rotationAngle=0 Rotation angle in degrees\r\n * @param {string} color=\"#000000\" color\r\n * @param {boolean} fill=false need to fill or only border\r\n */\r\nconst drawTriangle = (\r\n\tcvsContext: CanvasRenderingContext2D,\r\n\tx: number,\r\n\ty: number,\r\n\tside = 10,\r\n\trotationAngle = 0,\r\n\tcolor = \"#000000\",\r\n\tfill = false\r\n) => {\r\n\tcvsContext.fillStyle = color;\r\n\tcvsContext.strokeStyle = color;\r\n\r\n\t// circumscribed circle radius: R = side * sqrt(3) / 3\r\n\tconst R = side * 0.5773502691896258;\r\n\tconst r = -R / 2; // inscribed circle radius\r\n\tconst halfSide = side / 2;\r\n\r\n\t// triangle coordinates\r\n\t// start coordinates calculated as if triangle center at (0, 0)\r\n\tlet triangleCoordinates: Array<[number, number]> = [\r\n\t\t[0, R],\r\n\t\t[halfSide, r],\r\n\t\t[-halfSide, r]\r\n\t];\r\n\r\n\ttriangleCoordinates = rotatePolygon(triangleCoordinates, rotationAngle);\r\n\ttriangleCoordinates = linearShiftPolygon(triangleCoordinates, x, y);\r\n\r\n\tdrawPolygon(cvsContext, triangleCoordinates, color, fill);\r\n};\r\n\r\nexport default drawTriangle;\r\n","import drawPolygon from \"./DrawPolygon\";\r\nimport {degreesToRadians, linearShiftPolygon, rotatePoint} from \"../CoordinatesUtils\";\r\n\r\n/**\r\n * Function for drawing star on canvas\r\n * @param {CanvasRenderingContext2D} cvsContext Canvas context\r\n * @param {number} x X position of shape center\r\n * @param {number} y Y position of shape center\r\n * @param {number} size=10 Star circumscribed circle radius\r\n * @param {number} verticesNumber=5 Number of star vertices\r\n * @param {number} rotationAngle=0 Rotation angle in degrees\r\n * @param {string} color=\"#000000\" color\r\n * @param {boolean} fill=false need to fill or only border\r\n */\r\nconst drawStar = (\r\n\tcvsContext: CanvasRenderingContext2D,\r\n\tx: number,\r\n\ty: number,\r\n\tsize = 10,\r\n\tverticesNumber = 5,\r\n\trotationAngle = 0,\r\n\tcolor = \"#000000\",\r\n\tfill = false\r\n) => {\r\n\tcvsContext.fillStyle = color;\r\n\tcvsContext.strokeStyle = color;\r\n\r\n\tconst r = size / 2; // inscribed circle radius\r\n\tlet vertexAngle = rotationAngle;\r\n\tlet deltaVertexAngle = degreesToRadians(360 / verticesNumber);\r\n\tlet inscribedVertexAngle = deltaVertexAngle / 2 + rotationAngle;\r\n\r\n\t// start coordinates calculated as if shape center at (0, 0)\r\n\tlet starCoordinates: Array<[number, number]> = [];\r\n\r\n\tfor (let i = 0; i < verticesNumber; i++) {\r\n\t\tstarCoordinates.push(\r\n\t\t\trotatePoint(0, size, Math.sin(vertexAngle), Math.cos(vertexAngle))\r\n\t\t);\r\n\t\tstarCoordinates.push(\r\n\t\t\trotatePoint(0, r, Math.sin(inscribedVertexAngle), Math.cos(inscribedVertexAngle))\r\n\t\t);\r\n\t\tvertexAngle += deltaVertexAngle;\r\n\t\tinscribedVertexAngle += deltaVertexAngle;\r\n\t}\r\n\r\n\t// linear shift to coordinates\r\n\tstarCoordinates = linearShiftPolygon(starCoordinates, x, y);\r\n\r\n\tdrawPolygon(cvsContext, starCoordinates, color, fill);\r\n};\r\n\r\nexport default drawStar;\r\n","import {commentariesStorageVar, newCommentaryVar} from \"../Apollo/Storage\";\r\n\r\n/**\r\n * Add commentary\r\n * @param {number} x position on canvas\r\n * @param {number} y position on canvas\r\n * @param {string} text commentary text\r\n */\r\nexport const addComment = (x: number, y: number, text: string) => {\r\n\tconst storage = commentariesStorageVar();\r\n\tcommentariesStorageVar([\r\n\t\t...storage,\r\n\t\t{\r\n\t\t\tprojectId: 1,\r\n\t\t\tauthorId: 1,\r\n\t\t\tauthorName: \"Guest\",\r\n\t\t\tcommentId: storage[storage.length - 1].commentId + 1,\r\n\t\t\ttext: text,\r\n\t\t\tdate: new Date().toDateString(),\r\n\t\t\ttime: new Date().getTime().toString(),\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tisOpened: false\r\n\t\t}\r\n\t]);\r\n};\r\n\r\n/**\r\n * Set commentary open or close\r\n * @param {number} commentId commentary ID\r\n * @param {boolean} opened set isOpen value for commentary\r\n */\r\nexport const setOpenCloseComment = (commentId: number, opened: boolean) => {\r\n\tcommentariesStorageVar(\r\n\t\tcommentariesStorageVar().map(comment => {\r\n\t\t\tif (comment.commentId === commentId) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...comment,\r\n\t\t\t\t\tisOpened: opened\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn comment;\r\n\t\t\t}\r\n\t\t})\r\n\t);\r\n};\r\n\r\n/**\r\n * Delete commentary\r\n * @param {number} commentId commentary ID\r\n */\r\nexport const deleteComment = (commentId: number) => {\r\n\tcommentariesStorageVar(\r\n\t\tcommentariesStorageVar().filter(comment => comment.commentId !== commentId)\r\n\t);\r\n};\r\n\r\n/**\r\n * Activate new commentary field\r\n * @param {number} x position on canvas\r\n * @param {number} y position on canvas\r\n */\r\nexport const openNewCommentWindow = (x: number, y: number) => {\r\n\tnewCommentaryVar({\r\n\t\t...newCommentaryVar(),\r\n\t\tisCreating: true,\r\n\t\tx: x,\r\n\t\ty: y\r\n\t});\r\n};\r\n\r\n/**\r\n * Close field with new commentary\r\n * @param {boolean} [cleanText=false] need to clean text of new commentary\r\n */\r\nexport const closeNewCommentWindow = (cleanText = false) => {\r\n\tconst newValue = {\r\n\t\t...newCommentaryVar(),\r\n\t\tisCreating: false,\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t};\r\n\r\n\tif (cleanText)\r\n\t\tnewValue.text = \"\";\r\n\r\n\tnewCommentaryVar(newValue);\r\n};\r\n\r\n/**\r\n * Updates text of new commentary\r\n * @param {string} newText\r\n */\r\nexport const updateNewCommentText = (newText: string) => {\r\n\tnewCommentaryVar({\r\n\t\t...newCommentaryVar(),\r\n\t\ttext: newText\r\n\t});\r\n};\r\n","/** ID of canvas HTML element */\r\nexport const CANVAS_HTML_ID: string = \"canvas\";\r\n","import React, {useEffect, useRef} from \"react\";\r\nimport styles from \"./Canvas.module.css\";\r\nimport drawSquare from \"../../../CanvasUtils/DrawingShapes/DrawSquare\";\r\nimport drawCircle from \"../../../CanvasUtils/DrawingShapes/DrawCircle\";\r\nimport {circleSettingsVar, drawSettingsVar, regularPolygonSettingsVar, shapesStorageVar, squareSettingsVar, starSettingsVar, toolsVar, triangleSettingsVar} from \"../../../Apollo/Storage\";\r\nimport {TOOLS} from \"../../../Constants/Tools\";\r\nimport drawTriangle from \"../../../CanvasUtils/DrawingShapes/DrawTriangle\";\r\nimport drawStar from \"../../../CanvasUtils/DrawingShapes/DrawStar\";\r\nimport drawRegularPolygon from \"../../../CanvasUtils/DrawingShapes/DrawRegularPolygon\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport {openNewCommentWindow} from \"../../../CanvasUtils/CommentariesUtils\";\r\nimport {CANVAS_HTML_ID} from \"../../../Constants/Canvas\";\r\n\r\nconst Canvas = () => {\r\n\tconst canvas = useRef(null);\r\n\tconst shapesStorage = useReactiveVar(shapesStorageVar);\r\n\r\n\r\n\tconsole.log(shapesStorage);\r\n\t/**\r\n\t * Function for redraw canvas\r\n\t * @param {CanvasRenderingContext2D} context canvas context\r\n\t */\r\n\tconst draw = (context: CanvasRenderingContext2D) => {\r\n\t\t// clear canvas\r\n\t\tcontext.clearRect(0, 0, context.canvas.width, context.canvas.height);\r\n\r\n\t\t// draw each shape\r\n\t\tshapesStorageVar().forEach(shape => {\r\n\t\t\tswitch (shape.type) {\r\n\t\t\t\tcase TOOLS.circle:\r\n\t\t\t\t\tdrawCircle(context, shape.position.x, shape.position.y, shape.size, shape.color, shape.filled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase TOOLS.square:\r\n\t\t\t\t\tdrawSquare(context, shape.position.x, shape.position.y, shape.size, shape.rotation, shape.color, shape.filled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase TOOLS.triangle:\r\n\t\t\t\t\tdrawTriangle(context, shape.position.x, shape.position.y, shape.size, shape.rotation, shape.color, shape.filled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase TOOLS.star:\r\n\t\t\t\t\tdrawStar(context, shape.position.x, shape.position.y, shape.size, shape.verticesNumber, shape.rotation, shape.color, shape.filled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase TOOLS.regularPolygon:\r\n\t\t\t\t\tdrawRegularPolygon(context, shape.position.x, shape.position.y, shape.size, shape.verticesNumber, shape.rotation, shape.color, shape.filled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t/** Handler for window resize */\r\n\tconst handleWindowResize = () => {\r\n\t\t// @ts-ignore\r\n\t\tconst parent = canvas.current.parentNode;\r\n\t\tconst styles = getComputedStyle(parent);\r\n\t\tconst w = parseInt(styles.getPropertyValue(\"width\"), 10);\r\n\t\tconst h = parseInt(styles.getPropertyValue(\"height\"), 10);\r\n\r\n\t\t// @ts-ignore\r\n\t\tconst context = canvas.current.getContext(\"2d\");\r\n\t\tcontext.canvas.width = w - 4; // border = 2+2px\r\n\t\tcontext.canvas.height = h - 10;\r\n\r\n\t\tdraw(context);\r\n\t}\r\n\r\n\t// need to calculate canvas size on first render\r\n\tuseEffect(() => {\r\n\t\thandleWindowResize();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"resize\", handleWindowResize);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", handleWindowResize);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tconst handleClick: React.MouseEventHandler<HTMLCanvasElement> = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n\t\t// @ts-ignore\r\n\t\tconst context = canvas.current.getContext(\"2d\");\r\n\t\tconst rect = context.canvas.getBoundingClientRect();\r\n\t\tconst pos = {\r\n\t\t\tx: (e.clientX - rect.left) / (rect.right - rect.left) * context.canvas.width,\r\n\t\t\ty: (e.clientY - rect.top) / (rect.bottom - rect.top) * context.canvas.height\r\n\t\t};\r\n\r\n\t\tlet shapeSetting;\r\n\t\tswitch (toolsVar()) {\r\n\t\t\tcase TOOLS.circle: {\r\n\t\t\t\tshapeSetting = circleSettingsVar();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase TOOLS.square: {\r\n\t\t\t\tshapeSetting = squareSettingsVar();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase TOOLS.triangle: {\r\n\t\t\t\tshapeSetting = triangleSettingsVar();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase TOOLS.star: {\r\n\t\t\t\tshapeSetting = starSettingsVar();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase TOOLS.regularPolygon: {\r\n\t\t\t\tshapeSetting = regularPolygonSettingsVar();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// add new shape\r\n\t\tshapesStorageVar([\r\n\t\t\t...shapesStorage,\r\n\t\t\t{\r\n\t\t\t\ttype: toolsVar(),\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tx: pos.x,\r\n\t\t\t\t\ty: pos.y\r\n\t\t\t\t},\r\n\t\t\t\t...drawSettingsVar(),\r\n\t\t\t\t...shapeSetting\r\n\t\t\t}\r\n\t\t]);\r\n\r\n\t\tconsole.log(shapesStorageVar());\r\n\t\tdraw(context);\r\n\t};\r\n\r\n\tconst handleRightMouseClick: React.MouseEventHandler<HTMLCanvasElement> = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// @ts-ignore\r\n\t\tconst context = canvas.current.getContext(\"2d\");\r\n\t\tconst rect = context.canvas.getBoundingClientRect();\r\n\t\tconst pos = {\r\n\t\t\tx: (e.clientX - rect.left) / (rect.right - rect.left) * context.canvas.width,\r\n\t\t\ty: (e.clientY - rect.top) / (rect.bottom - rect.top) * context.canvas.height\r\n\t\t};\r\n\t\topenNewCommentWindow(pos.x, pos.y);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<canvas\r\n\t\t\tref={canvas}\r\n\t\t\tid={CANVAS_HTML_ID}\r\n\t\t\tclassName={styles.canvas}\r\n\t\t\tonClick={handleClick}\r\n\t\t\tonContextMenu={handleRightMouseClick}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default Canvas;\r\n","import React from \"react\";\r\nimport styles from \"../MainPage.module.css\";\r\nimport {toolsVar} from \"../../../Apollo/Storage\";\r\nimport {TOOLS} from \"../../../Constants/Tools\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\n\r\nconst toolNames = new Map([\r\n\t[TOOLS.circle, \"\"],\r\n\t[TOOLS.square, \"\"],\r\n\t[TOOLS.triangle, \"\"],\r\n\t[TOOLS.regularPolygon, \"\"],\r\n\t[TOOLS.star, \"\"],\r\n]);\r\n\r\n/**\r\n * Container with tools for drawing\r\n * @component\r\n */\r\nconst Tools = () => {\r\n\r\n\tconst tool = useReactiveVar(toolsVar);\r\n\r\n\tconst changeTool = (toolName: TOOLS) => {\r\n\t\ttoolsVar(toolName);\r\n\t};\r\n\r\n\tconst tools: JSX.Element[] = [];\r\n\ttoolNames.forEach((value, key) => {\r\n\t\ttools.push(\r\n\t\t\t<p\r\n\t\t\t\tkey={key}\r\n\t\t\t\tclassName={styles.tool + \" \" + (tool === key ? (\" \" + styles.selected) : \"\")}\r\n\t\t\t\tonClick={() => changeTool(key)}\r\n\t\t\t>\r\n\t\t\t\t{value}\r\n\t\t\t</p>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className={styles.toolsWrapper}>\r\n\t\t\t<p className={styles.tool} style={{cursor: \"default\"}}>\r\n\t\t\t\t<b>: </b>\r\n\t\t\t</p>\r\n\t\t\t{tools}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Tools;","import {useReactiveVar} from \"@apollo/client\";\r\nimport {circleSettingsVar} from \"../../../Apollo/Storage\";\r\nimport React from \"react\";\r\nimport {Input} from \"antd\";\r\nimport styles from \"../MainPage.module.css\";\r\n\r\n/**\r\n * Component with settings for circle tool\r\n * @component\r\n */\r\nconst CircleSettings = () => {\r\n\tconst settings = useReactiveVar(circleSettingsVar);\r\n\r\n\tconst handleSizeChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tcircleSettingsVar({\r\n\t\t\t...circleSettingsVar(),\r\n\t\t\tsize: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t<label htmlFor=\"circleSize\"></label>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"range\"\r\n\t\t\t\tid=\"circleSize\"\r\n\t\t\t\tmin=\"1\"\r\n\t\t\t\tmax=\"500\"\r\n\t\t\t\tvalue={settings.size}\r\n\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t/>\r\n\t\t\t<Input\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={500}\r\n\t\t\t\tvalue={settings.size}\r\n\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\twidth={\"100px\"}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CircleSettings;\r\n","import React from \"react\";\r\nimport styles from \"../MainPage.module.css\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport {squareSettingsVar} from \"../../../Apollo/Storage\";\r\nimport {Input} from \"antd\";\r\n\r\n/**\r\n * Component with settings for circle tool\r\n * @component\r\n */\r\nconst SquareSettings = () => {\r\n\tconst settings = useReactiveVar(squareSettingsVar);\r\n\r\n\tconst handleSizeChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tsquareSettingsVar({\r\n\t\t\t...squareSettingsVar(),\r\n\t\t\tsize: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleRotationAngleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tsquareSettingsVar({\r\n\t\t\t...squareSettingsVar(),\r\n\t\t\trotation: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"squareSize\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"squareSize\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"squareRotation\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"squareRotation\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SquareSettings;\r\n","import React from \"react\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport {triangleSettingsVar} from \"../../../Apollo/Storage\";\r\nimport styles from \"../MainPage.module.css\";\r\nimport {Input} from \"antd\";\r\n\r\n/**\r\n * Component with settings for triangle tool\r\n * @component\r\n */\r\nconst TriangleSettings = () => {\r\n\tconst settings = useReactiveVar(triangleSettingsVar);\r\n\r\n\tconst handleSizeChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\ttriangleSettingsVar({\r\n\t\t\t...triangleSettingsVar(),\r\n\t\t\tsize: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleRotationAngleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\ttriangleSettingsVar({\r\n\t\t\t...triangleSettingsVar(),\r\n\t\t\trotation: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"squareSize\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"triangleSize\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"squareRotation\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"squareRotation\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TriangleSettings;\r\n","import React from \"react\";\r\nimport styles from \"../MainPage.module.css\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport {starSettingsVar} from \"../../../Apollo/Storage\";\r\nimport {Input} from \"antd\";\r\n\r\n/**\r\n * Component with settings for star tool\r\n * @component\r\n */\r\nconst StarSettings = () => {\r\n\tconst settings = useReactiveVar(starSettingsVar);\r\n\r\n\tconst handleSizeChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tstarSettingsVar({\r\n\t\t\t...starSettingsVar(),\r\n\t\t\tsize: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleRotationAngleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tstarSettingsVar({\r\n\t\t\t...starSettingsVar(),\r\n\t\t\trotation: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleVerticesNumberChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tstarSettingsVar({\r\n\t\t\t...starSettingsVar(),\r\n\t\t\tverticesNumber: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"starSize\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"starSize\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"starRotation\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"starRotation\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"starVertices\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"3\"\r\n\t\t\t\t\tmax=\"20\"\r\n\t\t\t\t\tvalue={settings.verticesNumber}\r\n\t\t\t\t\tonChange={handleVerticesNumberChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"starVertices\"\r\n\t\t\t\t\tmin=\"3\"\r\n\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\tvalue={settings.verticesNumber}\r\n\t\t\t\t\tonChange={handleVerticesNumberChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default StarSettings;\r\n","import React from \"react\";\r\nimport styles from \"../MainPage.module.css\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport {regularPolygonSettingsVar} from \"../../../Apollo/Storage\";\r\nimport {Input} from \"antd\";\r\n\r\n/**\r\n * Component with settings for regular polygon tool\r\n * @component\r\n */\r\nconst RegularPolygonSettings = () => {\r\n\tconst settings = useReactiveVar(regularPolygonSettingsVar);\r\n\r\n\tconst handleSizeChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tregularPolygonSettingsVar({\r\n\t\t\t...regularPolygonSettingsVar(),\r\n\t\t\tsize: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleRotationAngleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tregularPolygonSettingsVar({\r\n\t\t\t...regularPolygonSettingsVar(),\r\n\t\t\trotation: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleVerticesNumberChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tregularPolygonSettingsVar({\r\n\t\t\t...regularPolygonSettingsVar(),\r\n\t\t\tverticesNumber: Number(e.target.value)\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"regularPolygonSize\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"regularPolygonSize\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\tvalue={settings.size}\r\n\t\t\t\t\tonChange={handleSizeChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"regularPolygonRotation\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"regularPolygonRotation\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"359\"\r\n\t\t\t\t\tvalue={settings.rotation}\r\n\t\t\t\t\tonChange={handleRotationAngleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t<label htmlFor=\"regularPolygonVertices\"></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"3\"\r\n\t\t\t\t\tmax=\"20\"\r\n\t\t\t\t\tvalue={settings.verticesNumber}\r\n\t\t\t\t\tonChange={handleVerticesNumberChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"regularPolygonVertices\"\r\n\t\t\t\t\tmin=\"3\"\r\n\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\tvalue={settings.verticesNumber}\r\n\t\t\t\t\tonChange={handleVerticesNumberChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RegularPolygonSettings;\r\n","import React from \"react\";\r\nimport styles from \"../MainPage.module.css\";\r\nimport {drawSettingsVar, toolsVar} from \"../../../Apollo/Storage\";\r\nimport {TOOLS} from \"../../../Constants/Tools\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport CircleSettings from \"./CircleSettings\";\r\nimport SquareSettings from \"./SquareSettings\";\r\nimport TriangleSettings from \"./TriangleSettings\";\r\nimport StarSettings from \"./StarSettings\";\r\nimport RegularPolygonSettings from \"./RegularPolygonSettings\";\r\n\r\n/**\r\n * Container with settings for selected tool\r\n * @component\r\n */\r\nconst ToolSettings = () => {\r\n\r\n\tconst tool = useReactiveVar(toolsVar);\r\n\tconst settings = useReactiveVar(drawSettingsVar);\r\n\r\n\tlet body: JSX.Element | null = null;\r\n\r\n\tswitch (tool) {\r\n\t\tcase TOOLS.circle:\r\n\t\t\tbody = <CircleSettings/>;\r\n\t\t\tbreak;\r\n\t\tcase TOOLS.square:\r\n\t\t\tbody = <SquareSettings/>;\r\n\t\t\tbreak;\r\n\t\tcase TOOLS.triangle:\r\n\t\t\tbody = <TriangleSettings/>;\r\n\t\t\tbreak;\r\n\t\tcase TOOLS.star:\r\n\t\t\tbody = <StarSettings/>;\r\n\t\t\tbreak;\r\n\t\tcase TOOLS.regularPolygon:\r\n\t\t\tbody = <RegularPolygonSettings/>;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tconst handleColorChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tdrawSettingsVar({\r\n\t\t\t...drawSettingsVar(),\r\n\t\t\tcolor: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleFillChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tdrawSettingsVar({\r\n\t\t\t...drawSettingsVar(),\r\n\t\t\tfilled: e.target.checked\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.toolSettingsWrapper}>\r\n\t\t\t<div className={styles.toolSettingsGroup}>\r\n\t\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t\t<label htmlFor=\"color\"></label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"color\"\r\n\t\t\t\t\t\tid=\"color\"\r\n\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\tvalue={settings.color}\r\n\t\t\t\t\t\tonChange={handleColorChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.oneParamGroup}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tid=\"filled\"\r\n\t\t\t\t\t\tname=\"filled\"\r\n\t\t\t\t\t\tchecked={settings.filled}\r\n\t\t\t\t\t\tonChange={handleFillChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"filled\"></label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.toolSettingsGroup}>\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ToolSettings;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"commentaryWrapper\":\"Commentaries_commentaryWrapper__HS0Lu\",\"openCommentWrapper\":\"Commentaries_openCommentWrapper__zxi24\",\"buttonBar\":\"Commentaries_buttonBar__4CetC\",\"content\":\"Commentaries_content__+7giD\",\"avatar\":\"Commentaries_avatar__NAb14\",\"author\":\"Commentaries_author__37+I2\",\"textarea\":\"Commentaries_textarea__Dd8OD\"};","// This icon file is generated automatically.\nvar CommentOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z\" } }] }, \"name\": \"comment\", \"theme\": \"outlined\" };\nexport default CommentOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CommentOutlinedSvg from \"@ant-design/icons-svg/es/asn/CommentOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar CommentOutlined = function CommentOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CommentOutlinedSvg\n  }));\n};\nCommentOutlined.displayName = 'CommentOutlined';\nexport default /*#__PURE__*/React.forwardRef(CommentOutlined);","import { useEffect, useRef } from 'react';\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\nimport useResponsiveObserver from '../../_util/responsiveObserver';\nfunction useBreakpoint() {\n  let refreshOnChange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  const screensRef = useRef({});\n  const forceUpdate = useForceUpdate();\n  const responsiveObserver = useResponsiveObserver();\n  useEffect(() => {\n    const token = responsiveObserver.subscribe(supportScreens => {\n      screensRef.current = supportScreens;\n      if (refreshOnChange) {\n        forceUpdate();\n      }\n    });\n    return () => responsiveObserver.unsubscribe(token);\n  }, []);\n  return screensRef.current;\n}\nexport default useBreakpoint;","import * as React from 'react';\nexport default function useForceUpdate() {\n  const [, forceUpdate] = React.useReducer(x => x + 1, 0);\n  return forceUpdate;\n}","import * as React from 'react';\nconst SizeContext = /*#__PURE__*/React.createContext('default');\nexport const SizeContextProvider = _ref => {\n  let {\n    children,\n    size\n  } = _ref;\n  const originSize = React.useContext(SizeContext);\n  return /*#__PURE__*/React.createElement(SizeContext.Provider, {\n    value: size || originSize\n  }, children);\n};\nexport default SizeContext;","import { genComponentStyleHook, mergeToken } from '../../theme/internal';\nimport { resetComponent } from '../../style';\nconst genBaseStyle = token => {\n  const {\n    antCls,\n    componentCls,\n    iconCls,\n    avatarBg,\n    avatarColor,\n    avatarSizeBase,\n    avatarSizeLG,\n    avatarSizeSM,\n    avatarFontSizeBase,\n    avatarFontSizeLG,\n    avatarFontSizeSM,\n    borderRadius,\n    borderRadiusLG,\n    borderRadiusSM,\n    lineWidth,\n    lineType\n  } = token;\n  // Avatar size style\n  const avatarSizeStyle = (size, fontSize, radius) => ({\n    width: size,\n    height: size,\n    lineHeight: `${size - lineWidth * 2}px`,\n    borderRadius: '50%',\n    [`&${componentCls}-square`]: {\n      borderRadius: radius\n    },\n    [`${componentCls}-string`]: {\n      position: 'absolute',\n      left: {\n        _skip_check_: true,\n        value: '50%'\n      },\n      transformOrigin: '0 center'\n    },\n    [`&${componentCls}-icon`]: {\n      fontSize,\n      [`> ${iconCls}`]: {\n        margin: 0\n      }\n    }\n  });\n  return {\n    [componentCls]: Object.assign(Object.assign(Object.assign(Object.assign({}, resetComponent(token)), {\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      color: avatarColor,\n      whiteSpace: 'nowrap',\n      textAlign: 'center',\n      verticalAlign: 'middle',\n      background: avatarBg,\n      border: `${lineWidth}px ${lineType} transparent`,\n      [`&-image`]: {\n        background: 'transparent'\n      },\n      [`${antCls}-image-img`]: {\n        display: 'block'\n      }\n    }), avatarSizeStyle(avatarSizeBase, avatarFontSizeBase, borderRadius)), {\n      [`&-lg`]: Object.assign({}, avatarSizeStyle(avatarSizeLG, avatarFontSizeLG, borderRadiusLG)),\n      [`&-sm`]: Object.assign({}, avatarSizeStyle(avatarSizeSM, avatarFontSizeSM, borderRadiusSM)),\n      '> img': {\n        display: 'block',\n        width: '100%',\n        height: '100%',\n        objectFit: 'cover'\n      }\n    })\n  };\n};\nconst genGroupStyle = token => {\n  const {\n    componentCls,\n    avatarGroupBorderColor,\n    avatarGroupSpace\n  } = token;\n  return {\n    [`${componentCls}-group`]: {\n      display: 'inline-flex',\n      [`${componentCls}`]: {\n        borderColor: avatarGroupBorderColor\n      },\n      [`> *:not(:first-child)`]: {\n        marginInlineStart: avatarGroupSpace\n      }\n    }\n  };\n};\nexport default genComponentStyleHook('Avatar', token => {\n  const {\n    colorTextLightSolid,\n    controlHeight,\n    controlHeightLG,\n    controlHeightSM,\n    fontSize,\n    fontSizeLG,\n    fontSizeXL,\n    fontSizeHeading3,\n    marginXS,\n    colorBorderBg,\n    colorTextPlaceholder\n  } = token;\n  const avatarToken = mergeToken(token, {\n    avatarBg: colorTextPlaceholder,\n    avatarColor: colorTextLightSolid,\n    avatarSizeBase: controlHeight,\n    avatarSizeLG: controlHeightLG,\n    avatarSizeSM: controlHeightSM,\n    avatarFontSizeBase: Math.round((fontSizeLG + fontSizeXL) / 2),\n    avatarFontSizeLG: fontSizeHeading3,\n    avatarFontSizeSM: fontSize,\n    avatarGroupSpace: -marginXS,\n    avatarGroupBorderColor: colorBorderBg\n  });\n  return [genBaseStyle(avatarToken), genGroupStyle(avatarToken)];\n});","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport useBreakpoint from '../grid/hooks/useBreakpoint';\nimport { responsiveArray } from '../_util/responsiveObserver';\nimport warning from '../_util/warning';\nimport SizeContext from './SizeContext';\nimport useStyle from './style';\nconst InternalAvatar = (props, ref) => {\n  const groupSize = React.useContext(SizeContext);\n  const [scale, setScale] = React.useState(1);\n  const [mounted, setMounted] = React.useState(false);\n  const [isImgExist, setIsImgExist] = React.useState(true);\n  const avatarNodeRef = React.useRef(null);\n  const avatarChildrenRef = React.useRef(null);\n  const avatarNodeMergeRef = composeRef(ref, avatarNodeRef);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const setScaleParam = () => {\n    if (!avatarChildrenRef.current || !avatarNodeRef.current) {\n      return;\n    }\n    const childrenWidth = avatarChildrenRef.current.offsetWidth; // offsetWidth avoid affecting be transform scale\n    const nodeWidth = avatarNodeRef.current.offsetWidth;\n    // denominator is 0 is no meaning\n    if (childrenWidth !== 0 && nodeWidth !== 0) {\n      const {\n        gap = 4\n      } = props;\n      if (gap * 2 < nodeWidth) {\n        setScale(nodeWidth - gap * 2 < childrenWidth ? (nodeWidth - gap * 2) / childrenWidth : 1);\n      }\n    }\n  };\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n  React.useEffect(() => {\n    setIsImgExist(true);\n    setScale(1);\n  }, [props.src]);\n  React.useEffect(() => {\n    setScaleParam();\n  }, [props.gap]);\n  const handleImgLoadError = () => {\n    const {\n      onError\n    } = props;\n    const errorFlag = onError ? onError() : undefined;\n    if (errorFlag !== false) {\n      setIsImgExist(false);\n    }\n  };\n  const {\n      prefixCls: customizePrefixCls,\n      shape = 'circle',\n      size: customSize = 'default',\n      src,\n      srcSet,\n      icon,\n      className,\n      rootClassName,\n      alt,\n      draggable,\n      children,\n      crossOrigin\n    } = props,\n    others = __rest(props, [\"prefixCls\", \"shape\", \"size\", \"src\", \"srcSet\", \"icon\", \"className\", \"rootClassName\", \"alt\", \"draggable\", \"children\", \"crossOrigin\"]);\n  const size = customSize === 'default' ? groupSize : customSize;\n  const needResponsive = Object.keys(typeof size === 'object' ? size || {} : {}).some(key => ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'].includes(key));\n  const screens = useBreakpoint(needResponsive);\n  const responsiveSizeStyle = React.useMemo(() => {\n    if (typeof size !== 'object') {\n      return {};\n    }\n    const currentBreakpoint = responsiveArray.find(screen => screens[screen]);\n    const currentSize = size[currentBreakpoint];\n    return currentSize ? {\n      width: currentSize,\n      height: currentSize,\n      lineHeight: `${currentSize}px`,\n      fontSize: icon ? currentSize / 2 : 18\n    } : {};\n  }, [screens, size]);\n  process.env.NODE_ENV !== \"production\" ? warning(!(typeof icon === 'string' && icon.length > 2), 'Avatar', `\\`icon\\` is using ReactNode instead of string naming in v4. Please check \\`${icon}\\` at https://ant.design/components/icon`) : void 0;\n  const prefixCls = getPrefixCls('avatar', customizePrefixCls);\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const sizeCls = classNames({\n    [`${prefixCls}-lg`]: size === 'large',\n    [`${prefixCls}-sm`]: size === 'small'\n  });\n  const hasImageElement = /*#__PURE__*/React.isValidElement(src);\n  const classString = classNames(prefixCls, sizeCls, {\n    [`${prefixCls}-${shape}`]: !!shape,\n    [`${prefixCls}-image`]: hasImageElement || src && isImgExist,\n    [`${prefixCls}-icon`]: !!icon\n  }, className, rootClassName, hashId);\n  const sizeStyle = typeof size === 'number' ? {\n    width: size,\n    height: size,\n    lineHeight: `${size}px`,\n    fontSize: icon ? size / 2 : 18\n  } : {};\n  let childrenToRender;\n  if (typeof src === 'string' && isImgExist) {\n    childrenToRender = /*#__PURE__*/React.createElement(\"img\", {\n      src: src,\n      draggable: draggable,\n      srcSet: srcSet,\n      onError: handleImgLoadError,\n      alt: alt,\n      crossOrigin: crossOrigin\n    });\n  } else if (hasImageElement) {\n    childrenToRender = src;\n  } else if (icon) {\n    childrenToRender = icon;\n  } else if (mounted || scale !== 1) {\n    const transformString = `scale(${scale}) translateX(-50%)`;\n    const childrenStyle = {\n      msTransform: transformString,\n      WebkitTransform: transformString,\n      transform: transformString\n    };\n    const sizeChildrenStyle = typeof size === 'number' ? {\n      lineHeight: `${size}px`\n    } : {};\n    childrenToRender = /*#__PURE__*/React.createElement(ResizeObserver, {\n      onResize: setScaleParam\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `${prefixCls}-string`,\n      ref: avatarChildrenRef,\n      style: Object.assign(Object.assign({}, sizeChildrenStyle), childrenStyle)\n    }, children));\n  } else {\n    childrenToRender = /*#__PURE__*/React.createElement(\"span\", {\n      className: `${prefixCls}-string`,\n      style: {\n        opacity: 0\n      },\n      ref: avatarChildrenRef\n    }, children);\n  }\n  // The event is triggered twice from bubbling up the DOM tree.\n  // see https://codesandbox.io/s/kind-snow-9lidz\n  delete others.onError;\n  delete others.gap;\n  return wrapSSR( /*#__PURE__*/React.createElement(\"span\", Object.assign({}, others, {\n    style: Object.assign(Object.assign(Object.assign({}, sizeStyle), responsiveSizeStyle), others.style),\n    className: classString,\n    ref: avatarNodeMergeRef\n  }), childrenToRender));\n};\nconst Avatar = /*#__PURE__*/React.forwardRef(InternalAvatar);\nif (process.env.NODE_ENV !== 'production') {\n  Avatar.displayName = 'Avatar';\n}\nexport default Avatar;","export const getRenderPropValue = propValue => {\n  if (!propValue) {\n    return null;\n  }\n  if (typeof propValue === 'function') {\n    return propValue();\n  }\n  return propValue;\n};","import { resetComponent } from '../../style';\nimport { initZoomMotion } from '../../style/motion';\nimport getArrowStyle from '../../style/placementArrow';\nimport { genComponentStyleHook, mergeToken, PresetColors } from '../../theme/internal';\nconst genBaseStyle = token => {\n  const {\n    componentCls,\n    popoverBg,\n    popoverColor,\n    width,\n    fontWeightStrong,\n    popoverPadding,\n    boxShadowSecondary,\n    colorTextHeading,\n    borderRadiusLG: borderRadius,\n    zIndexPopup,\n    marginXS,\n    colorBgElevated\n  } = token;\n  return [{\n    [componentCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      position: 'absolute',\n      top: 0,\n      // use `left` to fix https://github.com/ant-design/ant-design/issues/39195\n      left: {\n        _skip_check_: true,\n        value: 0\n      },\n      zIndex: zIndexPopup,\n      fontWeight: 'normal',\n      whiteSpace: 'normal',\n      textAlign: 'start',\n      cursor: 'auto',\n      userSelect: 'text',\n      '--antd-arrow-background-color': colorBgElevated,\n      '&-rtl': {\n        direction: 'rtl'\n      },\n      '&-hidden': {\n        display: 'none'\n      },\n      [`${componentCls}-content`]: {\n        position: 'relative'\n      },\n      [`${componentCls}-inner`]: {\n        backgroundColor: popoverBg,\n        backgroundClip: 'padding-box',\n        borderRadius,\n        boxShadow: boxShadowSecondary,\n        padding: popoverPadding\n      },\n      [`${componentCls}-title`]: {\n        minWidth: width,\n        marginBottom: marginXS,\n        color: colorTextHeading,\n        fontWeight: fontWeightStrong\n      },\n      [`${componentCls}-inner-content`]: {\n        color: popoverColor\n      }\n    })\n  },\n  // Arrow Style\n  getArrowStyle(token, {\n    colorBg: 'var(--antd-arrow-background-color)'\n  }),\n  // Pure Render\n  {\n    [`${componentCls}-pure`]: {\n      position: 'relative',\n      maxWidth: 'none',\n      margin: token.sizePopupArrow,\n      display: 'inline-block',\n      [`${componentCls}-content`]: {\n        display: 'inline-block'\n      }\n    }\n  }];\n};\nconst genColorStyle = token => {\n  const {\n    componentCls\n  } = token;\n  return {\n    [componentCls]: PresetColors.map(colorKey => {\n      const lightColor = token[`${colorKey}6`];\n      return {\n        [`&${componentCls}-${colorKey}`]: {\n          '--antd-arrow-background-color': lightColor,\n          [`${componentCls}-inner`]: {\n            backgroundColor: lightColor\n          },\n          [`${componentCls}-arrow`]: {\n            background: 'transparent'\n          }\n        }\n      };\n    })\n  };\n};\nconst genWireframeStyle = token => {\n  const {\n    componentCls,\n    lineWidth,\n    lineType,\n    colorSplit,\n    paddingSM,\n    controlHeight,\n    fontSize,\n    lineHeight,\n    padding\n  } = token;\n  const titlePaddingBlockDist = controlHeight - Math.round(fontSize * lineHeight);\n  const popoverTitlePaddingBlockTop = titlePaddingBlockDist / 2;\n  const popoverTitlePaddingBlockBottom = titlePaddingBlockDist / 2 - lineWidth;\n  const popoverPaddingHorizontal = padding;\n  return {\n    [componentCls]: {\n      [`${componentCls}-inner`]: {\n        padding: 0\n      },\n      [`${componentCls}-title`]: {\n        margin: 0,\n        padding: `${popoverTitlePaddingBlockTop}px ${popoverPaddingHorizontal}px ${popoverTitlePaddingBlockBottom}px`,\n        borderBottom: `${lineWidth}px ${lineType} ${colorSplit}`\n      },\n      [`${componentCls}-inner-content`]: {\n        padding: `${paddingSM}px ${popoverPaddingHorizontal}px`\n      }\n    }\n  };\n};\nexport default genComponentStyleHook('Popover', token => {\n  const {\n    colorBgElevated,\n    colorText,\n    wireframe\n  } = token;\n  const popoverToken = mergeToken(token, {\n    popoverBg: colorBgElevated,\n    popoverColor: colorText,\n    popoverPadding: 12 // Fixed Value\n  });\n\n  return [genBaseStyle(popoverToken), genColorStyle(popoverToken), wireframe && genWireframeStyle(popoverToken), initZoomMotion(popoverToken, 'zoom-big')];\n}, _ref => {\n  let {\n    zIndexPopupBase\n  } = _ref;\n  return {\n    zIndexPopup: zIndexPopupBase + 30,\n    width: 177\n  };\n});","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport { Popup } from 'rc-tooltip';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport useStyle from './style';\nexport const getOverlay = (prefixCls, title, content) => {\n  if (!title && !content) return undefined;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, title && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-title`\n  }, getRenderPropValue(title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-inner-content`\n  }, getRenderPropValue(content)));\n};\nexport function RawPurePanel(props) {\n  const {\n    hashId,\n    prefixCls,\n    className,\n    style,\n    placement = 'top',\n    title,\n    content,\n    children\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(hashId, prefixCls, `${prefixCls}-pure`, `${prefixCls}-placement-${placement}`, className),\n    style: style\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-arrow`\n  }), /*#__PURE__*/React.createElement(Popup, Object.assign({}, props, {\n    className: hashId,\n    prefixCls: prefixCls\n  }), children || getOverlay(prefixCls, title, content)));\n}\nexport default function PurePanel(props) {\n  const {\n      prefixCls: customizePrefixCls\n    } = props,\n    restProps = __rest(props, [\"prefixCls\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('popover', customizePrefixCls);\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  return wrapSSR( /*#__PURE__*/React.createElement(RawPurePanel, Object.assign({}, restProps, {\n    prefixCls: prefixCls,\n    hashId: hashId\n  })));\n}","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport Tooltip from '../tooltip';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport { getTransitionName } from '../_util/motion';\nimport PurePanel from './PurePanel';\n// CSSINJS\nimport useStyle from './style';\nconst Overlay = _ref => {\n  let {\n    title,\n    content,\n    prefixCls\n  } = _ref;\n  if (!title && !content) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, title && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-title`\n  }, getRenderPropValue(title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-inner-content`\n  }, getRenderPropValue(content)));\n};\nconst Popover = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n      prefixCls: customizePrefixCls,\n      title,\n      content,\n      overlayClassName,\n      placement = 'top',\n      trigger = 'hover',\n      mouseEnterDelay = 0.1,\n      mouseLeaveDelay = 0.1,\n      overlayStyle = {}\n    } = props,\n    otherProps = __rest(props, [\"prefixCls\", \"title\", \"content\", \"overlayClassName\", \"placement\", \"trigger\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"overlayStyle\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('popover', customizePrefixCls);\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const rootPrefixCls = getPrefixCls();\n  const overlayCls = classNames(overlayClassName, hashId);\n  return wrapSSR( /*#__PURE__*/React.createElement(Tooltip, Object.assign({\n    placement: placement,\n    trigger: trigger,\n    mouseEnterDelay: mouseEnterDelay,\n    mouseLeaveDelay: mouseLeaveDelay,\n    overlayStyle: overlayStyle\n  }, otherProps, {\n    prefixCls: prefixCls,\n    overlayClassName: overlayCls,\n    ref: ref,\n    overlay: /*#__PURE__*/React.createElement(Overlay, {\n      prefixCls: prefixCls,\n      title: title,\n      content: content\n    }),\n    transitionName: getTransitionName(rootPrefixCls, 'zoom-big', otherProps.transitionName),\n    \"data-popover-inject\": true\n  })));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Popover.displayName = 'Popover';\n}\nPopover._InternalPanelDoNotUseOrYouWillBeFired = PurePanel;\nexport default Popover;","import classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport Popover from '../popover';\nimport { cloneElement } from '../_util/reactNode';\nimport Avatar from './avatar';\nimport { SizeContextProvider } from './SizeContext';\nimport useStyle from './style';\nconst Group = props => {\n  const {\n    getPrefixCls,\n    direction\n  } = React.useContext(ConfigContext);\n  const {\n    prefixCls: customizePrefixCls,\n    className,\n    rootClassName,\n    maxCount,\n    maxStyle,\n    size\n  } = props;\n  const prefixCls = getPrefixCls('avatar', customizePrefixCls);\n  const groupPrefixCls = `${prefixCls}-group`;\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const cls = classNames(groupPrefixCls, {\n    [`${groupPrefixCls}-rtl`]: direction === 'rtl'\n  }, className, rootClassName, hashId);\n  const {\n    children,\n    maxPopoverPlacement = 'top',\n    maxPopoverTrigger = 'hover'\n  } = props;\n  const childrenWithProps = toArray(children).map((child, index) => cloneElement(child, {\n    key: `avatar-key-${index}`\n  }));\n  const numOfChildren = childrenWithProps.length;\n  if (maxCount && maxCount < numOfChildren) {\n    const childrenShow = childrenWithProps.slice(0, maxCount);\n    const childrenHidden = childrenWithProps.slice(maxCount, numOfChildren);\n    childrenShow.push( /*#__PURE__*/React.createElement(Popover, {\n      key: \"avatar-popover-key\",\n      content: childrenHidden,\n      trigger: maxPopoverTrigger,\n      placement: maxPopoverPlacement,\n      overlayClassName: `${groupPrefixCls}-popover`\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      style: maxStyle\n    }, `+${numOfChildren - maxCount}`)));\n    return wrapSSR( /*#__PURE__*/React.createElement(SizeContextProvider, {\n      size: size\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cls,\n      style: props.style\n    }, childrenShow)));\n  }\n  return wrapSSR( /*#__PURE__*/React.createElement(SizeContextProvider, {\n    size: size\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cls,\n    style: props.style\n  }, childrenWithProps)));\n};\nexport default Group;","import InternalAvatar from './avatar';\nimport Group from './group';\nexport { Group };\nconst Avatar = InternalAvatar;\nAvatar.Group = Group;\nexport default Avatar;","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar UserOutlined = function UserOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: UserOutlinedSvg\n  }));\n};\nUserOutlined.displayName = 'UserOutlined';\nexport default /*#__PURE__*/React.forwardRef(UserOutlined);","import {MutableRefObject, useEffect} from \"react\";\r\n\r\n/**\r\n * Hook for executing handler if click was outside HTML element ref\r\n * @param {MutableRefObject<any>} ref ref to HTML element\r\n * @param {function} handler handler, that executing after outside click\r\n */\r\nconst useOnClickOutside = (\r\n\tref: MutableRefObject<any>,\r\n\thandler: (event?: MouseEvent | TouchEvent) => void\r\n) => {\r\n\tuseEffect(() => {\r\n\t\tconst listener = (event: MouseEvent | TouchEvent) => {\r\n\t\t\t// Do nothing if clicking ref's element or descendent elements\r\n\t\t\tif (!ref.current || ref.current.contains(event.target)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\thandler(event);\r\n\t\t};\r\n\t\tdocument.addEventListener(\"mousedown\", listener);\r\n\t\tdocument.addEventListener(\"touchstart\", listener);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", listener);\r\n\t\t\tdocument.removeEventListener(\"touchstart\", listener);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ref, handler]);\r\n};\r\n\r\nexport default useOnClickOutside;\r\n","import React from \"react\";\r\nimport {Button, Modal, Typography} from \"antd\";\r\n\r\nconst {Text} = Typography;\r\n\r\n/**\r\n * Modal to confirm the comment deletion\r\n * @param {boolean} isOpened\r\n * @param {function} handleCancelClick handler for cancel button\r\n * @param {function} handleDeleteClick handler for delete button\r\n * @component\r\n */\r\nconst ModalDeleteCommentary = (\r\n\t{isOpened, handleCancelClick, handleDeleteClick}\r\n\t\t: { isOpened: boolean, handleCancelClick: () => void, handleDeleteClick: () => void }\r\n) => {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\" ?\"\r\n\t\t\topen={isOpened}\r\n\t\t\tclosable={false}\r\n\t\t\tcentered\r\n\t\t\tfooter={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tonClick={handleCancelClick}\r\n\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={handleDeleteClick}\r\n\t\t\t\t\tkey=\"delete\"\r\n\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t</Button>\r\n\t\t\t]}>\r\n\t\t\t<div>\r\n\t\t\t\t<Text>   </Text><br/>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default ModalDeleteCommentary;\r\n","import React, {useRef, useState} from \"react\";\r\nimport styles from \"./Commentaries.module.css\";\r\nimport {Avatar} from \"antd\";\r\nimport {CloseOutlined, DeleteOutlined, UserOutlined} from \"@ant-design/icons\";\r\nimport {deleteComment, setOpenCloseComment} from \"../../../CanvasUtils/CommentariesUtils\";\r\nimport useOnClickOutside from \"../../../Hooks/useOnClickOutside\";\r\nimport {ICommentary} from \"../../../Apollo/Interfaces\";\r\nimport ModalDeleteCommentary from \"./ModalDeleteCommentary\";\r\n\r\n/**\r\n * Opened commentary for canvas\r\n * @param {ICommentary} comment\r\n * @component\r\n */\r\nconst OpenedCommentary = ({comment}: { comment: ICommentary }) => {\r\n\tconst ref = useRef(null);\r\n\tconst [isModalConfirmDeleteOpen, setIsModalConfirmDeleteOpen] = useState(false);\r\n\r\n\t// close commentary if click was outside element\r\n\tuseOnClickOutside(ref, () => {\r\n\t\tif (!isModalConfirmDeleteOpen)\r\n\t\t\tsetOpenCloseComment(comment.commentId, false)\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ref}\r\n\t\t\tclassName={styles.openCommentWrapper}\r\n\t\t\tstyle={{\r\n\t\t\t\ttop: comment.y,\r\n\t\t\t\tleft: comment.x\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className={styles.buttonBar}>\r\n\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\tstyle={{color: \"red\"}}\r\n\t\t\t\t\tonClick={() => setIsModalConfirmDeleteOpen(true)}\r\n\t\t\t\t/>\r\n\t\t\t\t<CloseOutlined\r\n\t\t\t\t\tonClick={() => setOpenCloseComment(comment.commentId, false)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.content}>\r\n\t\t\t\t<Avatar size=\"small\" icon={<UserOutlined/>} className={styles.avatar}/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className={styles.author}>{comment.authorName}</p>\r\n\t\t\t\t\t<p>{comment.text}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ModalDeleteCommentary\r\n\t\t\t\tisOpened={isModalConfirmDeleteOpen}\r\n\t\t\t\thandleCancelClick={() => setIsModalConfirmDeleteOpen(false)}\r\n\t\t\t\thandleDeleteClick={() => deleteComment(comment.commentId)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OpenedCommentary;\r\n","import React from \"react\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport {commentariesStorageVar} from \"../../../Apollo/Storage\";\r\nimport styles from \"./Commentaries.module.css\";\r\nimport {CommentOutlined} from \"@ant-design/icons\";\r\nimport {setOpenCloseComment} from \"../../../CanvasUtils/CommentariesUtils\";\r\nimport OpenedCommentary from \"./OpenedCommentary\";\r\n\r\n/**\r\n * Commentaries for canvas\r\n * @component\r\n */\r\nconst Commentaries = () => {\r\n\r\n\tconst comments = useReactiveVar(commentariesStorageVar);\r\n\r\n\t// prepare body comments\r\n\tconst body = comments.map(comment => {\r\n\r\n\t\t// return opened comment\r\n\t\tif (comment.isOpened) {\r\n\t\t\treturn <OpenedCommentary comment={comment} key={comment.commentId}/>\r\n\t\t}\r\n\r\n\t\t// return closed comment\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tkey={comment.commentId}\r\n\t\t\t\tclassName={styles.commentaryWrapper}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\ttop: comment.y,\r\n\t\t\t\t\tleft: comment.x\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={() => setOpenCloseComment(comment.commentId, true)}\r\n\t\t\t>\r\n\t\t\t\t<CommentOutlined/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{body}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Commentaries;\r\n","import React, {useRef} from \"react\";\r\nimport styles from \"./Commentaries.module.css\";\r\nimport {Avatar, Button} from \"antd\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport TextArea from \"antd/es/input/TextArea\";\r\nimport {addComment, closeNewCommentWindow, updateNewCommentText} from \"../../../CanvasUtils/CommentariesUtils\";\r\nimport useOnClickOutside from \"../../../Hooks/useOnClickOutside\";\r\nimport {newCommentaryVar} from \"../../../Apollo/Storage\";\r\n\r\n/**\r\n * New commentary for canvas\r\n * @component\r\n */\r\nconst NewCommentary = ({x, y, text}: { x: number, y: number, text: string }) => {\r\n\tconst ref = useRef(null);\r\n\r\n\t// close commentary if click was outside element\r\n\tuseOnClickOutside(ref, () => closeNewCommentWindow());\r\n\r\n\tconst handleTextAreaChange: React.ChangeEventHandler<HTMLTextAreaElement> = (e) => {\r\n\t\tupdateNewCommentText(e.target.value);\r\n\t};\r\n\r\n\tconst handleCreateButtonClick = () => {\r\n\t\tconst newComment = newCommentaryVar();\r\n\t\taddComment(newComment.x, newComment.y, newComment.text);\r\n\t\tcloseNewCommentWindow(true);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ref}\r\n\t\t\tclassName={styles.openCommentWrapper}\r\n\t\t\tstyle={{\r\n\t\t\t\ttop: y,\r\n\t\t\t\tleft: x\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className={styles.content}>\r\n\t\t\t\t<Avatar size=\"small\" icon={<UserOutlined/>} className={styles.avatar}/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\tclassName={styles.textarea}\r\n\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\tonChange={handleTextAreaChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className={styles.buttonBar}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\tonClick={() => closeNewCommentWindow(true)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={handleCreateButtonClick}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NewCommentary;\r\n","// This icon file is generated automatically.\nvar DownloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"download\", \"theme\": \"outlined\" };\nexport default DownloadOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/DownloadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar DownloadOutlined = function DownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DownloadOutlinedSvg\n  }));\n};\nDownloadOutlined.displayName = 'DownloadOutlined';\nexport default /*#__PURE__*/React.forwardRef(DownloadOutlined);","import React from \"react\";\r\nimport {Button} from \"antd\";\r\nimport {CANVAS_HTML_ID} from \"../../../Constants/Canvas\";\r\nimport {DownloadOutlined} from \"@ant-design/icons\";\r\n\r\n/**\r\n * Download button\r\n * @component\r\n */\r\nconst DownloadBtn = (props: any) => {\r\n\t/** Function to download canvas as image */\r\n\tconst downloadImg = () => {\r\n\t\tconst downloadLink = document.createElement(\"a\");\r\n\t\tdownloadLink.setAttribute(\"download\", \"MyDrawing.png\");\r\n\t\tconst canvas: HTMLCanvasElement = document.getElementById(CANVAS_HTML_ID) as HTMLCanvasElement;\r\n\t\tcanvas.toBlob((blob) => {\r\n\t\t\tdownloadLink.setAttribute(\"href\", URL.createObjectURL(blob as Blob));\r\n\t\t\tdownloadLink.click();\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\ttype={\"primary\"}\r\n\t\t\tonClick={downloadImg}\r\n\t\t\ticon={<DownloadOutlined/>}\r\n\t\t>\r\n\t\t\t\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nexport default DownloadBtn;\r\n","import React from \"react\";\r\nimport {useReactiveVar} from \"@apollo/client\";\r\nimport styles from \"./MainPage.module.css\";\r\nimport Canvas from \"./Canvas/Canvas\";\r\nimport Tools from \"./Tools/Tools\";\r\nimport ToolSettings from \"./Tools/ToolSettings\";\r\nimport Commentaries from \"./Commentaries/Commentaries\";\r\nimport {newCommentaryVar} from \"../../Apollo/Storage\";\r\nimport NewCommentary from \"./Commentaries/NewCommentary\";\r\nimport DownloadBtn from \"./DownloadButton/DownloadBtn\";\r\n\r\n/**\r\n * Draw page\r\n * @component\r\n */\r\nconst MainPage = (props: any) => {\r\n\r\n\tconst newCommentary = useReactiveVar(newCommentaryVar);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tools/>\r\n\t\t\t<ToolSettings/>\r\n\t\t\t<div className={styles.canvasWrapper}>\r\n\t\t\t\t<Canvas/>\r\n\t\t\t\t<Commentaries/>\r\n\t\t\t\t{\r\n\t\t\t\t\tnewCommentary.isCreating\r\n\t\t\t\t\t&& <NewCommentary x={newCommentary.x} y={newCommentary.y} text={newCommentary.text}/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.downloadBtnContainer}>\r\n\t\t\t\t<DownloadBtn/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default MainPage;\r\n"],"names":["useReactiveVar","rv","value","setValue","useState","useEffect","probablySameValue","onNextChange","cvsContext","polygon","color","arguments","length","undefined","fill","fillStyle","strokeStyle","beginPath","moveTo","apply","_toConsumableArray","forEach","_ref","_ref2","_slicedToArray","x","y","lineTo","stroke","closePath","degreesToRadians","degrees","Math","PI","rotatePoint","sinAngle","cosAngle","linearShiftPolygon","x0","y0","map","_ref3","_ref4","size","verticesNumber","rotationAngle","vertexAngle","deltaVertexAngle","coordinates","i","push","sin","cos","drawPolygon","drawRegularPolygon","radius","arc","TOOLS","toolsVar","makeVar","square","shapesStorageVar","drawSettingsVar","filled","circleSettingsVar","squareSettingsVar","rotation","triangleSettingsVar","starSettingsVar","regularPolygonSettingsVar","commentariesStorageVar","projectId","authorId","authorName","commentId","text","date","time","isOpened","newCommentaryVar","isCreating","side","R","r","halfSide","triangleCoordinates","angle","angleInRadians","rotatePolygon","inscribedVertexAngle","starCoordinates","setOpenCloseComment","opened","comment","_objectSpread","closeNewCommentWindow","cleanText","newValue","CANVAS_HTML_ID","canvas","useRef","shapesStorage","console","log","draw","context","clearRect","width","height","shape","type","circle","drawCircle","position","drawSquare","triangle","drawTriangle","star","drawStar","regularPolygon","handleWindowResize","parent","current","parentNode","styles","getComputedStyle","w","parseInt","getPropertyValue","h","getContext","window","addEventListener","removeEventListener","_jsx","ref","id","className","onClick","e","shapeSetting","rect","getBoundingClientRect","pos","clientX","left","right","clientY","top","bottom","concat","onContextMenu","preventDefault","toolNames","Map","tool","tools","key","children","_jsxs","style","cursor","settings","handleSizeChange","Number","target","htmlFor","min","max","onChange","Input","handleRotationAngleChange","_Fragment","handleVerticesNumberChange","body","CircleSettings","SquareSettings","TriangleSettings","StarSettings","RegularPolygonSettings","name","checked","CommentOutlined","props","React","AntdIcon","icon","CommentOutlinedSvg","displayName","refreshOnChange","screensRef","forceUpdate","_React$useReducer","useForceUpdate","responsiveObserver","useResponsiveObserver","token","subscribe","supportScreens","unsubscribe","SizeContext","SizeContextProvider","originSize","Provider","genBaseStyle","_Object$assign","_Object$assign2","antCls","componentCls","iconCls","avatarBg","avatarColor","avatarSizeBase","avatarSizeLG","avatarSizeSM","avatarFontSizeBase","avatarFontSizeLG","avatarFontSizeSM","borderRadius","borderRadiusLG","borderRadiusSM","lineWidth","lineType","avatarSizeStyle","fontSize","lineHeight","_defineProperty","_skip_check_","transformOrigin","margin","Object","assign","resetComponent","display","overflow","whiteSpace","textAlign","verticalAlign","background","border","objectFit","genGroupStyle","_$concat2","avatarGroupBorderColor","avatarGroupSpace","borderColor","marginInlineStart","genComponentStyleHook","colorTextLightSolid","controlHeight","controlHeightLG","controlHeightSM","fontSizeLG","fontSizeXL","fontSizeHeading3","marginXS","colorBorderBg","colorTextPlaceholder","avatarToken","mergeToken","round","__rest","s","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","InternalAvatar","_classNames","_classNames2","groupSize","_React$useState","_React$useState2","scale","setScale","_React$useState3","_React$useState4","mounted","setMounted","_React$useState5","_React$useState6","isImgExist","setIsImgExist","avatarNodeRef","avatarChildrenRef","avatarNodeMergeRef","composeRef","getPrefixCls","ConfigContext","setScaleParam","childrenWidth","offsetWidth","nodeWidth","_props$gap","gap","src","childrenToRender","customizePrefixCls","prefixCls","_props$shape","_props$size","customSize","srcSet","rootClassName","alt","draggable","crossOrigin","others","needResponsive","keys","some","includes","screens","useBreakpoint","responsiveSizeStyle","currentBreakpoint","responsiveArray","screen","currentSize","_useStyle","useStyle","_useStyle2","wrapSSR","hashId","sizeCls","classNames","hasImageElement","classString","sizeStyle","onError","transformString","childrenStyle","msTransform","WebkitTransform","transform","sizeChildrenStyle","ResizeObserver","onResize","opacity","getRenderPropValue","propValue","popoverBg","popoverColor","fontWeightStrong","popoverPadding","boxShadowSecondary","colorTextHeading","zIndexPopup","colorBgElevated","zIndex","fontWeight","userSelect","direction","backgroundColor","backgroundClip","boxShadow","padding","minWidth","marginBottom","getArrowStyle","colorBg","maxWidth","sizePopupArrow","genColorStyle","PresetColors","colorKey","_$concat$concat","lightColor","genWireframeStyle","_componentCls","colorSplit","paddingSM","titlePaddingBlockDist","popoverTitlePaddingBlockTop","popoverTitlePaddingBlockBottom","popoverPaddingHorizontal","borderBottom","colorText","wireframe","popoverToken","initZoomMotion","zIndexPopupBase","getOverlay","title","content","RawPurePanel","_props$placement","placement","Popup","Overlay","Popover","overlayClassName","_props$trigger","trigger","_props$mouseEnterDela","mouseEnterDelay","_props$mouseLeaveDela","mouseLeaveDelay","_props$overlayStyle","overlayStyle","otherProps","rootPrefixCls","overlayCls","Tooltip","overlay","transitionName","getTransitionName","_InternalPanelDoNotUseOrYouWillBeFired","restProps","_React$useContext","maxCount","maxStyle","groupPrefixCls","cls","_props$maxPopoverPlac","maxPopoverPlacement","_props$maxPopoverTrig","maxPopoverTrigger","childrenWithProps","toArray","child","index","cloneElement","numOfChildren","childrenShow","slice","childrenHidden","Avatar","Group","DeleteOutlined","DeleteOutlinedSvg","UserOutlined","UserOutlinedSvg","handler","listener","event","contains","document","Text","Typography","handleCancelClick","handleDeleteClick","Modal","open","closable","centered","footer","Button","danger","_useState","_useState2","isModalConfirmDeleteOpen","setIsModalConfirmDeleteOpen","useOnClickOutside","CloseOutlined","ModalDeleteCommentary","filter","OpenedCommentary","TextArea","newText","newComment","storage","Date","toDateString","getTime","toString","addComment","DownloadOutlined","DownloadOutlinedSvg","downloadLink","createElement","setAttribute","getElementById","toBlob","blob","URL","createObjectURL","click","newCommentary","Tools","ToolSettings","Canvas","Commentaries","NewCommentary","DownloadBtn"],"sourceRoot":""}