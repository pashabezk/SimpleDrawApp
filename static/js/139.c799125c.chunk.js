"use strict";(self.webpackChunksimple_draw_app=self.webpackChunksimple_draw_app||[]).push([[139],{5139:function(e,t,n){n.r(t),n.d(t,{default:function(){return vt}});var a=n(2791),r="MainPage_canvasWrapper__F2OSV",o="MainPage_toolsWrapper__+DR-6",i="MainPage_tool__Xr-HD",c="MainPage_selected__IXmX+",l="MainPage_toolSettingsWrapper__jMDf1",s="MainPage_toolSettingsGroup__+gBnY",u="MainPage_oneParamGroup__pSEF-",d=n(1413),m=n(3433),v="Canvas_canvas__sqZ7X",g=n(9439),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.fillStyle=n,e.strokeStyle=n,e.beginPath(),e.moveTo.apply(e,(0,m.Z)(t[t.length-1])),t.forEach((function(t){var n=(0,g.Z)(t,2),a=n[0],r=n[1];e.lineTo(a,r)})),a?e.fill():e.stroke(),e.closePath()},p=function(e){return e%360*Math.PI/180},h=function(e,t,n,a){return[e*a-t*n,e*n+t*a]},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.map((function(e){var a=(0,g.Z)(e,2),r=a[0],o=a[1];return[t+r,n+o]}))},y=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#000000",c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e.fillStyle=i,e.strokeStyle=i;for(var l=p(o),s=p(360/r),u=[],d=0;d<r;d++)u.push(h(0,a,Math.sin(l),Math.cos(l))),l+=s;u=x(u,t,n),f(e,u,i,c)},b=function(e,t,n){y(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,4,(arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)+45,arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",arguments.length>6&&void 0!==arguments[6]&&arguments[6])},j=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.fillStyle=r,e.strokeStyle=r,e.beginPath(),e.arc(t,n,a,0,2*Math.PI),o?e.fill():e.stroke()},Z=n(3272),C=function(e){return e.square="square",e.circle="circle",e.triangle="triangle",e.star="star",e.regularPolygon="regularPolygon",e}({}),S=(0,Z.QS)(C.square),N=(0,Z.QS)([]),z=(0,Z.QS)({color:"#000000",filled:!1}),k=(0,Z.QS)({size:10}),E=(0,Z.QS)({size:10,rotation:0}),O=(0,Z.QS)({size:10,rotation:0}),_=(0,Z.QS)({size:10,rotation:0,verticesNumber:5}),P=(0,Z.QS)({size:10,rotation:0,verticesNumber:5}),w=(0,Z.QS)([{projectId:1,authorId:1,authorName:"Greeting",commentId:1,text:"Hello! You could leave comments by right mouse click on canvas",date:"22.10.2023",time:"13:00",x:10,y:10,isOpened:!0}]),M=(0,Z.QS)({isCreating:!1,text:"",x:0,y:0}),I=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];e.fillStyle=o,e.strokeStyle=o;var c=.5773502691896258*a,l=-c/2,s=a/2,u=[[0,c],[s,l],[-s,l]];u=function(e,t){var n=p(t),a=Math.sin(n),r=Math.cos(n);return e.map((function(e){var t=(0,g.Z)(e,2),n=t[0],o=t[1];return h(n,o,a,r)}))}(u,r),u=x(u,t,n),f(e,u,o,i)},R=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#000000",c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e.fillStyle=i,e.strokeStyle=i;for(var l=a/2,s=o,u=p(360/r),d=u/2+o,m=[],v=0;v<r;v++)m.push(h(0,a,Math.sin(s),Math.cos(s))),m.push(h(0,l,Math.sin(d),Math.cos(d))),s+=u,d+=u;m=x(m,t,n),f(e,m,i,c)};function F(e){var t=e(),n=(0,a.useState)(t)[1];return(0,a.useEffect)((function(){var a=e();if(t===a)return e.onNextChange(n);n(a)}),[t]),t}var B=function(e,t){w(w().map((function(n){return n.commentId===e?(0,d.Z)((0,d.Z)({},n),{},{isOpened:t}):n})))},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,d.Z)((0,d.Z)({},M()),{},{isCreating:!1,x:0,y:0});e&&(t.text=""),M(t)},D=n(184),H=function(){var e=(0,a.useRef)(null),t=F(N);console.log(t);var n=function(e){e.clearRect(0,0,e.canvas.width,e.canvas.height),N().forEach((function(t){switch(t.type){case C.circle:j(e,t.position.x,t.position.y,t.size,t.color,t.filled);break;case C.square:b(e,t.position.x,t.position.y,t.size,t.rotation,t.color,t.filled);break;case C.triangle:I(e,t.position.x,t.position.y,t.size,t.rotation,t.color,t.filled);break;case C.star:R(e,t.position.x,t.position.y,t.size,t.verticesNumber,t.rotation,t.color,t.filled);break;case C.regularPolygon:y(e,t.position.x,t.position.y,t.size,t.verticesNumber,t.rotation,t.color,t.filled)}}))},r=function(){var t=e.current.parentNode,a=getComputedStyle(t),r=parseInt(a.getPropertyValue("width"),10),o=parseInt(a.getPropertyValue("height"),10),i=e.current.getContext("2d");i.canvas.width=r-4,i.canvas.height=o-10,n(i)};(0,a.useEffect)((function(){r()}),[]),(0,a.useEffect)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[]);return(0,D.jsx)("canvas",{ref:e,className:v,onClick:function(a){var r,o=e.current.getContext("2d"),i=o.canvas.getBoundingClientRect(),c={x:(a.clientX-i.left)/(i.right-i.left)*o.canvas.width,y:(a.clientY-i.top)/(i.bottom-i.top)*o.canvas.height};switch(S()){case C.circle:r=k();break;case C.square:r=E();break;case C.triangle:r=O();break;case C.star:r=_();break;case C.regularPolygon:r=P()}N([].concat((0,m.Z)(t),[(0,d.Z)((0,d.Z)({type:S(),position:{x:c.x,y:c.y}},z()),r)])),console.log(N()),n(o)},onContextMenu:function(t){t.preventDefault();var n,a,r=e.current.getContext("2d"),o=r.canvas.getBoundingClientRect(),i={x:(t.clientX-o.left)/(o.right-o.left)*r.canvas.width,y:(t.clientY-o.top)/(o.bottom-o.top)*r.canvas.height};n=i.x,a=i.y,M((0,d.Z)((0,d.Z)({},M()),{},{isCreating:!0,x:n,y:a}))}})},W=new Map([[C.circle,"\u041a\u0440\u0443\u0433"],[C.square,"\u041a\u0432\u0430\u0434\u0440\u0430\u0442"],[C.triangle,"\u0422\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a"],[C.regularPolygon,"\u041c\u043d\u043e\u0433\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a"],[C.star,"\u0417\u0432\u0435\u0437\u0434\u0430"]]),G=function(){var e=F(S),t=[];return W.forEach((function(n,a){t.push((0,D.jsx)("p",{className:i+" "+(e===a?" "+c:""),onClick:function(){S(a)},children:n},a))})),(0,D.jsxs)("div",{className:o,children:[(0,D.jsx)("p",{className:i,style:{cursor:"default"},children:(0,D.jsx)("b",{children:"\u0424\u0438\u0433\u0443\u0440\u0430: "})}),t]})},q=n(3478),T=function(){var e=F(k),t=function(e){k((0,d.Z)((0,d.Z)({},k()),{},{size:Number(e.target.value)}))};return(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"circleSize",children:"\u0420\u0430\u0434\u0438\u0443\u0441"}),(0,D.jsx)("input",{type:"range",id:"circleSize",min:"1",max:"500",value:e.size,onChange:t}),(0,D.jsx)(q.Z,{type:"number",min:1,max:500,value:e.size,onChange:t,width:"100px"})]})},Q=function(){var e=F(E),t=function(e){E((0,d.Z)((0,d.Z)({},E()),{},{size:Number(e.target.value)}))},n=function(e){E((0,d.Z)((0,d.Z)({},E()),{},{rotation:Number(e.target.value)}))};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"squareSize",children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),(0,D.jsx)("input",{type:"range",min:"1",max:"500",value:e.size,onChange:t}),(0,D.jsx)(q.Z,{type:"number",id:"squareSize",min:"1",max:"500",value:e.size,onChange:t})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"squareRotation",children:"\u041f\u043e\u0432\u043e\u0440\u043e\u0442"}),(0,D.jsx)("input",{type:"range",min:"0",max:"359",value:e.rotation,onChange:n}),(0,D.jsx)(q.Z,{type:"number",id:"squareRotation",min:"0",max:"359",value:e.rotation,onChange:n})]})]})},X=function(){var e=F(O),t=function(e){O((0,d.Z)((0,d.Z)({},O()),{},{size:Number(e.target.value)}))},n=function(e){O((0,d.Z)((0,d.Z)({},O()),{},{rotation:Number(e.target.value)}))};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"squareSize",children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),(0,D.jsx)("input",{type:"range",min:"1",max:"500",value:e.size,onChange:t}),(0,D.jsx)(q.Z,{type:"number",id:"triangleSize",min:"1",max:"500",value:e.size,onChange:t})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"squareRotation",children:"\u041f\u043e\u0432\u043e\u0440\u043e\u0442"}),(0,D.jsx)("input",{type:"range",min:"0",max:"359",value:e.rotation,onChange:n}),(0,D.jsx)(q.Z,{type:"number",id:"squareRotation",min:"0",max:"359",value:e.rotation,onChange:n})]})]})},V=function(){var e=F(_),t=function(e){_((0,d.Z)((0,d.Z)({},_()),{},{size:Number(e.target.value)}))},n=function(e){_((0,d.Z)((0,d.Z)({},_()),{},{rotation:Number(e.target.value)}))},a=function(e){_((0,d.Z)((0,d.Z)({},_()),{},{verticesNumber:Number(e.target.value)}))};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"starSize",children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),(0,D.jsx)("input",{type:"range",min:"1",max:"500",value:e.size,onChange:t}),(0,D.jsx)(q.Z,{type:"number",id:"starSize",min:"1",max:"500",value:e.size,onChange:t})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"starRotation",children:"\u041f\u043e\u0432\u043e\u0440\u043e\u0442"}),(0,D.jsx)("input",{type:"range",min:"0",max:"359",value:e.rotation,onChange:n}),(0,D.jsx)(q.Z,{type:"number",id:"starRotation",min:"0",max:"359",value:e.rotation,onChange:n})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"starVertices",children:"\u0412\u0435\u0440\u0448\u0438\u043d\u044b"}),(0,D.jsx)("input",{type:"range",min:"3",max:"20",value:e.verticesNumber,onChange:a}),(0,D.jsx)(q.Z,{type:"number",id:"starVertices",min:"3",max:"100",value:e.verticesNumber,onChange:a})]})]})},A=function(){var e=F(P),t=function(e){P((0,d.Z)((0,d.Z)({},P()),{},{size:Number(e.target.value)}))},n=function(e){P((0,d.Z)((0,d.Z)({},P()),{},{rotation:Number(e.target.value)}))},a=function(e){P((0,d.Z)((0,d.Z)({},P()),{},{verticesNumber:Number(e.target.value)}))};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"regularPolygonSize",children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),(0,D.jsx)("input",{type:"range",min:"1",max:"500",value:e.size,onChange:t}),(0,D.jsx)(q.Z,{type:"number",id:"regularPolygonSize",min:"1",max:"500",value:e.size,onChange:t})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"regularPolygonRotation",children:"\u041f\u043e\u0432\u043e\u0440\u043e\u0442"}),(0,D.jsx)("input",{type:"range",min:"0",max:"359",value:e.rotation,onChange:n}),(0,D.jsx)(q.Z,{type:"number",id:"regularPolygonRotation",min:"0",max:"359",value:e.rotation,onChange:n})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"regularPolygonVertices",children:"\u0412\u0435\u0440\u0448\u0438\u043d\u044b"}),(0,D.jsx)("input",{type:"range",min:"3",max:"20",value:e.verticesNumber,onChange:a}),(0,D.jsx)(q.Z,{type:"number",id:"regularPolygonVertices",min:"3",max:"100",value:e.verticesNumber,onChange:a})]})]})},Y=function(){var e=F(S),t=F(z),n=null;switch(e){case C.circle:n=(0,D.jsx)(T,{});break;case C.square:n=(0,D.jsx)(Q,{});break;case C.triangle:n=(0,D.jsx)(X,{});break;case C.star:n=(0,D.jsx)(V,{});break;case C.regularPolygon:n=(0,D.jsx)(A,{})}return(0,D.jsxs)("div",{className:l,children:[(0,D.jsxs)("div",{className:s,children:[(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("label",{htmlFor:"color",children:"\u0426\u0432\u0435\u0442"}),(0,D.jsx)("input",{type:"color",id:"color",name:"color",value:t.color,onChange:function(e){z((0,d.Z)((0,d.Z)({},z()),{},{color:e.target.value}))}})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsx)("input",{type:"checkbox",id:"filled",name:"filled",checked:t.filled,onChange:function(e){z((0,d.Z)((0,d.Z)({},z()),{},{filled:e.target.checked}))}}),(0,D.jsx)("label",{htmlFor:"filled",children:"\u0417\u0430\u043b\u0438\u0432\u043a\u0430"})]})]}),(0,D.jsx)("div",{className:s,children:n})]})},U="Commentaries_commentaryWrapper__HS0Lu",J="Commentaries_openCommentWrapper__zxi24",K="Commentaries_buttonBar__4CetC",$="Commentaries_content__+7giD",ee="Commentaries_avatar__NAb14",te="Commentaries_author__37+I2",ne="Commentaries_textarea__Dd8OD",ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},re=n(4291),oe=function(e,t){return a.createElement(re.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:t,icon:ae}))};oe.displayName="CommentOutlined";var ie=a.forwardRef(oe),ce=n(4942),le=n(1694),se=n.n(le),ue=n(1143),de=n(8834),me=n(1929);var ve=n(635);var ge=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,a.useRef)({}),n=function(){var e=a.useReducer((function(e){return e+1}),0);return(0,g.Z)(e,2)[1]}(),r=(0,ve.Z)();return(0,a.useEffect)((function(){var a=r.subscribe((function(a){t.current=a,e&&n()}));return function(){return r.unsubscribe(a)}}),[]),t.current},fe=a.createContext("default"),pe=function(e){var t=e.children,n=e.size,r=a.useContext(fe);return a.createElement(fe.Provider,{value:n||r},t)},he=fe,xe=n(5564),ye=n(9922),be=n(7521),je=function(e){var t,n,a=e.antCls,r=e.componentCls,o=e.iconCls,i=e.avatarBg,c=e.avatarColor,l=e.avatarSizeBase,s=e.avatarSizeLG,u=e.avatarSizeSM,d=e.avatarFontSizeBase,m=e.avatarFontSizeLG,v=e.avatarFontSizeSM,g=e.borderRadius,f=e.borderRadiusLG,p=e.borderRadiusSM,h=e.lineWidth,x=e.lineType,y=function(e,t,n){var a;return a={width:e,height:e,lineHeight:"".concat(e-2*h,"px"),borderRadius:"50%"},(0,ce.Z)(a,"&".concat(r,"-square"),{borderRadius:n}),(0,ce.Z)(a,"".concat(r,"-string"),{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"}),(0,ce.Z)(a,"&".concat(r,"-icon"),(0,ce.Z)({fontSize:t},"> ".concat(o),{margin:0})),a};return(0,ce.Z)({},r,Object.assign(Object.assign(Object.assign(Object.assign({},(0,be.Wf)(e)),(t={position:"relative",display:"inline-block",overflow:"hidden",color:c,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:"".concat(h,"px ").concat(x," transparent")},(0,ce.Z)(t,"&-image",{background:"transparent"}),(0,ce.Z)(t,"".concat(a,"-image-img"),{display:"block"}),t)),y(l,d,g)),(n={},(0,ce.Z)(n,"&-lg",Object.assign({},y(s,m,f))),(0,ce.Z)(n,"&-sm",Object.assign({},y(u,v,p))),(0,ce.Z)(n,"> img",{display:"block",width:"100%",height:"100%",objectFit:"cover"}),n)))},Ze=function(e){var t,n=e.componentCls,a=e.avatarGroupBorderColor,r=e.avatarGroupSpace;return(0,ce.Z)({},"".concat(n,"-group"),(t={display:"inline-flex"},(0,ce.Z)(t,"".concat(n),{borderColor:a}),(0,ce.Z)(t,"> *:not(:first-child)",{marginInlineStart:r}),t))},Ce=(0,xe.Z)("Avatar",(function(e){var t=e.colorTextLightSolid,n=e.controlHeight,a=e.controlHeightLG,r=e.controlHeightSM,o=e.fontSize,i=e.fontSizeLG,c=e.fontSizeXL,l=e.fontSizeHeading3,s=e.marginXS,u=e.colorBorderBg,d=e.colorTextPlaceholder,m=(0,ye.TS)(e,{avatarBg:d,avatarColor:t,avatarSizeBase:n,avatarSizeLG:a,avatarSizeSM:r,avatarFontSizeBase:Math.round((i+c)/2),avatarFontSizeLG:l,avatarFontSizeSM:o,avatarGroupSpace:-s,avatarGroupBorderColor:u});return[je(m),Ze(m)]})),Se=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Ne=function(e,t){var n,r,o=a.useContext(he),i=a.useState(1),c=(0,g.Z)(i,2),l=c[0],s=c[1],u=a.useState(!1),d=(0,g.Z)(u,2),m=d[0],v=d[1],f=a.useState(!0),p=(0,g.Z)(f,2),h=p[0],x=p[1],y=a.useRef(null),b=a.useRef(null),j=(0,de.sQ)(t,y),Z=a.useContext(me.E_).getPrefixCls,C=function(){if(b.current&&y.current){var t=b.current.offsetWidth,n=y.current.offsetWidth;if(0!==t&&0!==n){var a=e.gap,r=void 0===a?4:a;2*r<n&&s(n-2*r<t?(n-2*r)/t:1)}}};a.useEffect((function(){v(!0)}),[]),a.useEffect((function(){x(!0),s(1)}),[e.src]),a.useEffect((function(){C()}),[e.gap]);var S,N=e.prefixCls,z=e.shape,k=void 0===z?"circle":z,E=e.size,O=void 0===E?"default":E,_=e.src,P=e.srcSet,w=e.icon,M=e.className,I=e.rootClassName,R=e.alt,F=e.draggable,B=e.children,L=e.crossOrigin,D=Se(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),H="default"===O?o:O,W=Object.keys("object"===typeof H&&H||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),G=ge(W),q=a.useMemo((function(){if("object"!==typeof H)return{};var e=ve.c.find((function(e){return G[e]})),t=H[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:w?t/2:18}:{}}),[G,H]),T=Z("avatar",N),Q=Ce(T),X=(0,g.Z)(Q,2),V=X[0],A=X[1],Y=se()((n={},(0,ce.Z)(n,"".concat(T,"-lg"),"large"===H),(0,ce.Z)(n,"".concat(T,"-sm"),"small"===H),n)),U=a.isValidElement(_),J=se()(T,Y,(r={},(0,ce.Z)(r,"".concat(T,"-").concat(k),!!k),(0,ce.Z)(r,"".concat(T,"-image"),U||_&&h),(0,ce.Z)(r,"".concat(T,"-icon"),!!w),r),M,I,A),K="number"===typeof H?{width:H,height:H,lineHeight:"".concat(H,"px"),fontSize:w?H/2:18}:{};if("string"===typeof _&&h)S=a.createElement("img",{src:_,draggable:F,srcSet:P,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&x(!1)},alt:R,crossOrigin:L});else if(U)S=_;else if(w)S=w;else if(m||1!==l){var $="scale(".concat(l,") translateX(-50%)"),ee={msTransform:$,WebkitTransform:$,transform:$},te="number"===typeof H?{lineHeight:"".concat(H,"px")}:{};S=a.createElement(ue.default,{onResize:C},a.createElement("span",{className:"".concat(T,"-string"),ref:b,style:Object.assign(Object.assign({},te),ee)},B))}else S=a.createElement("span",{className:"".concat(T,"-string"),style:{opacity:0},ref:b},B);return delete D.onError,delete D.gap,V(a.createElement("span",Object.assign({},D,{style:Object.assign(Object.assign(Object.assign({},K),q),D.style),className:J,ref:j}),S))};var ze=a.forwardRef(Ne),ke=n(5501),Ee=n(6662),Oe=function(e){return e?"function"===typeof e?e():e:null},_e=n(9464),Pe=n(7807),we=n(278),Me=n(3817),Ie=n(8876),Re=function(e){var t,n=e.componentCls,a=e.popoverBg,r=e.popoverColor,o=e.width,i=e.fontWeightStrong,c=e.popoverPadding,l=e.boxShadowSecondary,s=e.colorTextHeading,u=e.borderRadiusLG,d=e.zIndexPopup,m=e.marginXS,v=e.colorBgElevated;return[(0,ce.Z)({},n,Object.assign(Object.assign({},(0,be.Wf)(e)),(t={position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":v,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"}},(0,ce.Z)(t,"".concat(n,"-content"),{position:"relative"}),(0,ce.Z)(t,"".concat(n,"-inner"),{backgroundColor:a,backgroundClip:"padding-box",borderRadius:u,boxShadow:l,padding:c}),(0,ce.Z)(t,"".concat(n,"-title"),{minWidth:o,marginBottom:m,color:s,fontWeight:i}),(0,ce.Z)(t,"".concat(n,"-inner-content"),{color:r}),t))),(0,Me.ZP)(e,{colorBg:"var(--antd-arrow-background-color)"}),(0,ce.Z)({},"".concat(n,"-pure"),(0,ce.Z)({position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block"},"".concat(n,"-content"),{display:"inline-block"}))]},Fe=function(e){var t=e.componentCls;return(0,ce.Z)({},t,Ie.i.map((function(n){var a,r=e["".concat(n,"6")];return(0,ce.Z)({},"&".concat(t,"-").concat(n),(a={"--antd-arrow-background-color":r},(0,ce.Z)(a,"".concat(t,"-inner"),{backgroundColor:r}),(0,ce.Z)(a,"".concat(t,"-arrow"),{background:"transparent"}),a))})))},Be=function(e){var t,n=e.componentCls,a=e.lineWidth,r=e.lineType,o=e.colorSplit,i=e.paddingSM,c=e.controlHeight,l=e.fontSize,s=e.lineHeight,u=e.padding,d=c-Math.round(l*s),m=d/2,v=d/2-a,g=u;return(0,ce.Z)({},n,(t={},(0,ce.Z)(t,"".concat(n,"-inner"),{padding:0}),(0,ce.Z)(t,"".concat(n,"-title"),{margin:0,padding:"".concat(m,"px ").concat(g,"px ").concat(v,"px"),borderBottom:"".concat(a,"px ").concat(r," ").concat(o)}),(0,ce.Z)(t,"".concat(n,"-inner-content"),{padding:"".concat(i,"px ").concat(g,"px")}),t))},Le=(0,xe.Z)("Popover",(function(e){var t=e.colorBgElevated,n=e.colorText,a=e.wireframe,r=(0,ye.TS)(e,{popoverBg:t,popoverColor:n,popoverPadding:12});return[Re(r),Fe(r),a&&Be(r),(0,we._y)(r,"zoom-big")]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+30,width:177}})),De=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},He=function(e,t,n){if(t||n)return a.createElement(a.Fragment,null,t&&a.createElement("div",{className:"".concat(e,"-title")},Oe(t)),a.createElement("div",{className:"".concat(e,"-inner-content")},Oe(n)))};function We(e){var t=e.hashId,n=e.prefixCls,r=e.className,o=e.style,i=e.placement,c=void 0===i?"top":i,l=e.title,s=e.content,u=e.children;return a.createElement("div",{className:se()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(c),r),style:o},a.createElement("div",{className:"".concat(n,"-arrow")}),a.createElement(Pe.Popup,Object.assign({},e,{className:t,prefixCls:n}),u||He(n,l,s)))}var Ge=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},qe=function(e){var t=e.title,n=e.content,r=e.prefixCls;return t||n?a.createElement(a.Fragment,null,t&&a.createElement("div",{className:"".concat(r,"-title")},Oe(t)),a.createElement("div",{className:"".concat(r,"-inner-content")},Oe(n))):null},Te=a.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,o=e.content,i=e.overlayClassName,c=e.placement,l=void 0===c?"top":c,s=e.trigger,u=void 0===s?"hover":s,d=e.mouseEnterDelay,m=void 0===d?.1:d,v=e.mouseLeaveDelay,f=void 0===v?.1:v,p=e.overlayStyle,h=void 0===p?{}:p,x=Ge(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),y=a.useContext(me.E_).getPrefixCls,b=y("popover",n),j=Le(b),Z=(0,g.Z)(j,2),C=Z[0],S=Z[1],N=y(),z=se()(i,S);return C(a.createElement(Ee.Z,Object.assign({placement:l,trigger:u,mouseEnterDelay:m,mouseLeaveDelay:f,overlayStyle:h},x,{prefixCls:b,overlayClassName:z,ref:t,overlay:a.createElement(qe,{prefixCls:b,title:r,content:o}),transitionName:(0,_e.mL)(N,"zoom-big",x.transitionName),"data-popover-inject":!0})))}));Te._InternalPanelDoNotUseOrYouWillBeFired=function(e){var t=e.prefixCls,n=De(e,["prefixCls"]),r=(0,a.useContext(me.E_).getPrefixCls)("popover",t),o=Le(r),i=(0,g.Z)(o,2),c=i[0],l=i[1];return c(a.createElement(We,Object.assign({},n,{prefixCls:r,hashId:l})))};var Qe=Te,Xe=n(1113),Ve=function(e){var t=a.useContext(me.E_),n=t.getPrefixCls,r=t.direction,o=e.prefixCls,i=e.className,c=e.rootClassName,l=e.maxCount,s=e.maxStyle,u=e.size,d=n("avatar",o),m="".concat(d,"-group"),v=Ce(d),f=(0,g.Z)(v,2),p=f[0],h=f[1],x=se()(m,(0,ce.Z)({},"".concat(m,"-rtl"),"rtl"===r),i,c,h),y=e.children,b=e.maxPopoverPlacement,j=void 0===b?"top":b,Z=e.maxPopoverTrigger,C=void 0===Z?"hover":Z,S=(0,ke.Z)(y).map((function(e,t){return(0,Xe.Tm)(e,{key:"avatar-key-".concat(t)})})),N=S.length;if(l&&l<N){var z=S.slice(0,l),k=S.slice(l,N);return z.push(a.createElement(Qe,{key:"avatar-popover-key",content:k,trigger:C,placement:j,overlayClassName:"".concat(m,"-popover")},a.createElement(ze,{style:s},"+".concat(N-l)))),p(a.createElement(pe,{size:u},a.createElement("div",{className:x,style:e.style},z)))}return p(a.createElement(pe,{size:u},a.createElement("div",{className:x,style:e.style},S)))},Ae=ze;Ae.Group=Ve;var Ye=Ae,Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Je=function(e,t){return a.createElement(re.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:t,icon:Ue}))};Je.displayName="DeleteOutlined";var Ke=a.forwardRef(Je),$e=n(732),et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},tt=function(e,t){return a.createElement(re.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:t,icon:et}))};tt.displayName="UserOutlined";var nt=a.forwardRef(tt),at=function(e,t){(0,a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])},rt=n(8261),ot=n(8229),it=n(7309),ct=rt.Z.Text,lt=function(e){var t=e.isOpened,n=e.handleCancelClick,a=e.handleDeleteClick;return(0,D.jsx)(ot.Z,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439?",open:t,closable:!1,centered:!0,footer:[(0,D.jsx)(it.ZP,{type:"dashed",onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"cancel"),(0,D.jsx)(it.ZP,{danger:!0,onClick:a,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},"delete")],children:(0,D.jsxs)("div",{children:[(0,D.jsx)(ct,{children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e"}),(0,D.jsx)("br",{})]})})},st=function(e){var t=e.comment,n=(0,a.useRef)(null),r=(0,a.useState)(!1),o=(0,g.Z)(r,2),i=o[0],c=o[1];return at(n,(function(){i||B(t.commentId,!1)})),(0,D.jsxs)("div",{ref:n,className:J,style:{top:t.y,left:t.x},children:[(0,D.jsxs)("div",{className:K,children:[(0,D.jsx)(Ke,{style:{color:"red"},onClick:function(){return c(!0)}}),(0,D.jsx)($e.Z,{onClick:function(){return B(t.commentId,!1)}})]}),(0,D.jsxs)("div",{className:$,children:[(0,D.jsx)(Ye,{size:"small",icon:(0,D.jsx)(nt,{}),className:ee}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:te,children:t.authorName}),(0,D.jsx)("p",{children:t.text})]})]}),(0,D.jsx)(lt,{isOpened:i,handleCancelClick:function(){return c(!1)},handleDeleteClick:function(){return e=t.commentId,void w(w().filter((function(t){return t.commentId!==e})));var e}})]})},ut=function(){var e=F(w).map((function(e){return e.isOpened?(0,D.jsx)(st,{comment:e},e.commentId):(0,D.jsx)("div",{className:U,style:{top:e.y,left:e.x},onClick:function(){return B(e.commentId,!0)},children:(0,D.jsx)(ie,{})},e.commentId)}));return(0,D.jsx)(D.Fragment,{children:e})},dt=n(5583),mt=function(e){var t=e.x,n=e.y,r=e.text,o=(0,a.useRef)(null);at(o,(function(){return L()}));return(0,D.jsx)("div",{ref:o,className:J,style:{top:n,left:t},children:(0,D.jsxs)("div",{className:$,children:[(0,D.jsx)(Ye,{size:"small",icon:(0,D.jsx)(nt,{}),className:ee}),(0,D.jsxs)("div",{children:[(0,D.jsx)(dt.Z,{className:ne,value:r,onChange:function(e){var t;t=e.target.value,M((0,d.Z)((0,d.Z)({},M()),{},{text:t}))}}),(0,D.jsxs)("div",{className:K,children:[(0,D.jsx)(it.ZP,{type:"dashed",onClick:function(){return L(!0)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,D.jsx)(it.ZP,{type:"primary",onClick:function(){var e=M();!function(e,t,n){var a=w();w([].concat((0,m.Z)(a),[{projectId:1,authorId:1,authorName:"Guest",commentId:a[a.length-1].commentId+1,text:n,date:(new Date).toDateString(),time:(new Date).getTime().toString(),x:e,y:t,isOpened:!1}]))}(e.x,e.y,e.text),L(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})]})})},vt=function(e){var t=F(M);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(G,{}),(0,D.jsx)(Y,{}),(0,D.jsxs)("div",{className:r,children:[(0,D.jsx)(H,{}),(0,D.jsx)(ut,{}),t.isCreating&&(0,D.jsx)(mt,{x:t.x,y:t.y,text:t.text})]})]})}}}]);
//# sourceMappingURL=139.c799125c.chunk.js.map